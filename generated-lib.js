var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(e){for(var t=0;t<e.length;t++){var r=e[t].string;if(this.versionSearchString=e[t].subString,-1!=r.indexOf(e[t].subString))return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!=t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};function toggleClickEvent(){return isIpad()?"touchstart":"click"}function toggle(e,t){var r=document.getElementById(e);"none"==r.style.display?(r.style.display=t,r.focus()):r.style.display="none"}if(BrowserDetect.init(),"undefined"!=typeof AUTOCOMPLETE_SEARCH_TYPES){var searchTypes=[{name:AUTOCOMPLETE_SEARCH_TYPES.video,className:"video",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlVideo,testTypePattern:"video"},{name:AUTOCOMPLETE_SEARCH_TYPES.photos,className:"photos",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlPhoto,testTypePattern:"albums"},{name:AUTOCOMPLETE_SEARCH_TYPES.members,className:"members",autocompleteUrl:null,submitUrl:searchUrlMember,testTypePattern:"user"},{name:AUTOCOMPLETE_SEARCH_TYPES.pornstars,className:"pornstars",autocompleteUrl:"/pornstars/search_autocomplete",submitUrl:searchUrlPornstar,testTypePattern:"pornstars"},{name:AUTOCOMPLETE_SEARCH_TYPES.gifs,className:"gifs",autocompleteUrl:"/video/search_autocomplete",submitUrl:searchUrlGifs,testTypePattern:"gifs"}];1==showStreamate&&searchTypes.push({name:AUTOCOMPLETE_SEARCH_TYPES.camModels,className:"cam models",autocompleteUrl:"/live/search_autocomplete",submitUrl:searchUrlCam,testTypePattern:"live"})}if("Firefox"===BrowserDetect.browser){var i,arrowIcons=document.querySelectorAll(".arrow.arrowMenu");if(arrowIcons)for(i=0;i<arrowIcons.length;i++)MG_Utils.addClass(arrowIcons[i],"fFox")}document.querySelector(".fakeClick")&&document.querySelector(".fakeClick").addEventListener("click",function(){var e=document.querySelector("#searchTypeSelected"),t=document.querySelector("#searchTypeSelected i");MG_Utils.hasClass(e,"active")?(MG_Utils.removeClass(e,"active"),MG_Utils.removeClass(t,"active")):(MG_Utils.addClass(e,"active"),MG_Utils.addClass(t,"active"))}),document.addEventListener("click",function(e){var t=document.querySelector("#searchTypeSelected.active"),r=document.querySelector("#searchTypeSelected i");t&&"fakeClick"!==e.target.className&&(MG_Utils.removeClass(t,"active"),MG_Utils.removeClass(r,"active"))});
!function(){"use strict";var o={options:{debug:!1,parent:"#headerMainMenu",menuItem:".menu",submenu:".js-dropdown",submenuContent:".js-submenu",topMenu:".js-topMenuLink",discover:".discover",timeout:250},asyncMenuItems:["menu_livesex","menu_photos"],cache:{},cacheTime:(new Date).getTime()+18e5,init:function(e){document.querySelector(this.options.parent)&&(e=e||{},this.options=MG_Utils.extendSimple(this.options,e),this.options.debug&&console.log("Menu debug mode"),this.createMenuInStorage(),this.eventHandlers())},isHovered:function(e){return 1==e.getAttribute("data-hover")},createMenuInStorage:function(){this.asyncMenuItems.forEach(function(t){var e;switch(t){case"menu_livesex":e=MENU_MAIN_HEADER.liveSexUrl;break;case"menu_photos":e=MENU_MAIN_HEADER.photosUrl;break;default:return""}if(!o.cache[t]){MG_Utils.ajaxCall({dataType:"html",type:"GET",url:e,success:function(e){o.cache[t]={data:e}}})}})},asyncItems:function(e,t){if(MG_Utils.hasClass(e,"asyncLoad")){var s,n=this;MG_Utils.hasClass(e,"livesex")?s=MENU_MAIN_HEADER.liveSexUrl:MG_Utils.hasClass(e,"photos")&&(s=MENU_MAIN_HEADER.photosUrl);MG_Utils.ajaxCall({type:"GET",url:s,dataType:"html",beforeSend:function(){t.innerHTML='<div class="menuAsync"><img class="menuAsyncPreload" src="'+MENU_MAIN_HEADER.preloadImage+'"></div>'},success:function(e){e&&e.length&&(n.createMenuInStorage(),t.innerHTML=e)}})}},cacheExpire:function(e){return this.cacheTime-e<=0},loadContent:function(e,t){var s=(new Date).getTime();return MG_Utils.hasClass(e,"livesex")&&o.cache.menu_livesex&&!this.cacheExpire(s)?t.innerHTML=o.cache.menu_livesex.data:MG_Utils.hasClass(e,"photos")&&o.cache.menu_photos&&!this.cacheExpire(s)?t.innerHTML=o.cache.menu_photos.data:(this.cacheExpire(s)&&(this.cacheTime=(new Date).getTime()+18e5,this.cache={}),void this.asyncItems(e,t))},showSubmenu:function(e){var n=e.target||e.srcElement,i=n.querySelector(o.options.submenu);if("undefined"!=typeof isVideoPage&&i&&"photos"===i.getAttribute("data-submenu-type"))n.setAttribute("data-hover",1);else{if(!i)return;n.setAttribute("data-hover",1),setTimeout(function(){if(o.isHovered(n)){var e=i.querySelector(o.options.discover);if(e){e.style.display="inline-block";var t=i.querySelectorAll(".js-menuSwap"),s=0;if(t&&t.length)for(;s<t.length;s++)t[s].setAttribute("src",t[s].getAttribute("data-image"))}else i.querySelector(o.options.submenuContent).style.display=checkForGridSupport()?"grid":"block",MG_Utils.hasClass(n,"asyncLoad")&&o.loadContent(n,i.querySelector(o.options.submenuContent));MG_Utils.addClass(n.querySelector(o.options.topMenu),"hovered"),i.style.display="block"}},o.options.timeout)}},hideSubmenu:function(e){var t=e.target||e.srcElement,s=t.querySelector(o.options.submenu);s&&(t.setAttribute("data-hover",0),setTimeout(function(){if(!o.isHovered(t)){s.style.display="none";var e=s.querySelector(o.options.discover);e?(e.style.display="none",MG_Utils.hasClass(t,"asyncLoad")&&(s.querySelector(o.options.submenuContent).innerHTML="")):s.querySelector(o.options.submenuContent).style.display="none",MG_Utils.removeClass(t.querySelector(o.options.topMenu),"hovered")}},o.options.timeout+200))},eventHandlers:function(){for(var e=document.querySelector(this.options.parent).querySelectorAll(this.options.menuItem),t=0;t<e.length;t++){var s=e[t];MG_Utils.addEventHandler(s,"mouseenter",this.showSubmenu),MG_Utils.addEventHandler(s,"mouseleave",this.hideSubmenu)}}},a={options:{debug:!1,parent:"#headerMainMenu",menuItem:".menu",submenu:".js-dropdown",submenuContent:".js-submenu",topMenu:".js-topMenuLink",discover:".discover",timeout:250},asyncMenuItems:["livesex","photos"],cache:{},cacheTime:(new Date).getTime()+18e5,init:function(e){document.querySelector(this.options.parent)&&(e=e||{},this.options=MG_Utils.extendSimple(this.options,e),this.options.debug&&console.log("Menu debug mode"),this.createMenuInStorage(),this.eventHandlers())},isHovered:function(e){return 1==e.getAttribute("data-hover")},createMenuInStorage:function(){if(!~this.asyncMenuItems.indexOf(this.cache)){MG_Utils.ajaxCall({type:"GET",url:MENU_MAIN_HEADER.menuUrl,success:function(t){a.asyncMenuItems.forEach(function(e){a.cache[e]={data:t[e]}})}})}},asyncItems:function(s,n){if(MG_Utils.hasClass(s,"asyncLoad")){var e=this;MG_Utils.ajaxCall({type:"GET",url:MENU_MAIN_HEADER.menuUrl,beforeSend:function(){n.innerHTML='<div class="menuAsync"><img class="menuAsyncPreload" src="'+MENU_MAIN_HEADER.preloadImage+'"></div>'},success:function(t){t&&(e.createMenuInStorage(),a.asyncMenuItems.forEach(function(e){MG_Utils.hasClass(s,e)&&(n.innerHTML=t[e])}))}})}},cacheExpire:function(e){return this.cacheTime-e<=0},displayContent:function(t,s){var n=(new Date).getTime(),i=!1;a.asyncMenuItems.forEach(function(e){if(MG_Utils.hasClass(t,e)&&a.cache[e]&&!a.cacheExpire(n))return s.innerHTML=a.cache[e].data,i=!0}),i||(this.cacheExpire(n)&&(this.cacheTime=(new Date).getTime()+18e5,this.cache={}),this.asyncItems(t,s))},showSubmenu:function(e){var n=e.target||e.srcElement,i=n.querySelector(a.options.submenu);if("undefined"!=typeof isVideoPage&&i&&"photos"===i.getAttribute("data-submenu-type"))n.setAttribute("data-hover",1);else{if(!i)return;n.setAttribute("data-hover",1),setTimeout(function(){if(a.isHovered(n)){var e=i.querySelector(a.options.discover);if(e){e.style.display="inline-block";var t=i.querySelectorAll(".js-menuSwap"),s=0;if(t&&t.length)for(;s<t.length;s++)t[s].setAttribute("src",t[s].getAttribute("data-image"))}else i.querySelector(a.options.submenuContent).style.display=checkForGridSupport()?"grid":"block",MG_Utils.hasClass(n,"asyncLoad")&&a.displayContent(n,i.querySelector(a.options.submenuContent));MG_Utils.addClass(n.querySelector(a.options.topMenu),"hovered"),i.style.display="block"}},a.options.timeout)}},hideSubmenu:function(e){var t=e.target||e.srcElement,s=t.querySelector(a.options.submenu);s&&(t.setAttribute("data-hover",0),setTimeout(function(){if(!a.isHovered(t)){s.style.display="none";var e=s.querySelector(a.options.discover);e?(e.style.display="none",MG_Utils.hasClass(t,"asyncLoad")&&(s.querySelector(a.options.submenuContent).innerHTML="")):s.querySelector(a.options.submenuContent).style.display="none",MG_Utils.removeClass(t.querySelector(a.options.topMenu),"hovered")}},a.options.timeout+200))},eventHandlers:function(){for(var e=document.querySelector(this.options.parent).querySelectorAll(this.options.menuItem),t=0;t<e.length;t++){var s=e[t];MG_Utils.addEventHandler(s,"mouseenter",this.showSubmenu),MG_Utils.addEventHandler(s,"mouseleave",this.hideSubmenu)}}};MG_Utils.domReady(function(){page_params.getMenuType?a.init():o.init()})}(),document.addEventListener("mouseover",function(e){var t=e.target;if(MG_Utils.hasClass(t,"js-playGifTarget")){var s=t.parentNode,n=s.querySelector(".js-playGifVideo"),i=s.querySelector(".js-playGifImage");if(n){var o=s.querySelector(".js-webm"),a=s.querySelector(".js-mp4");if(o&&o.setAttribute("src",n.getAttribute("data-webm")),a&&a.setAttribute("src",n.getAttribute("data-mp4")),n.load(),window.Promise){var r=n.play();void 0!==r&&r.then(function(){n.play()}).catch(function(e){})}else n.play()}else i&&(i.src=i.getAttribute("data-gif-url"))}}),document.addEventListener("mouseout",function(e){var t=e.target;if(MG_Utils.hasClass(t,"js-playGifTarget")){var s=t.parentNode,n=s.querySelector(".js-playGifVideo"),i=s.querySelector(".js-playGifImage");if(n){var o=n.querySelector(".js-webm"),a=n.querySelector(".js-mp4");o&&o.setAttribute("src",""),a&&a.setAttribute("src",""),n.load(),n.currentTime=0}else i&&(i.src=i.getAttribute("data-static-url"))}});
var MG_Flipbook=function(){"use strict";var Self=this,timer,o={},data={},flipTimer,oldThumbUrlAC;Self.init=function(e){Self.params=e,Self.addEvents()},Self.addEvent=function(e,t,i){var a;e.addEventListener?e.addEventListener(t,i,!1):(i.$$guid||(i.$$guid=Self.addEvent.guid++),e.events||(e.events={}),(a=e.events[t])||(a=e.events[t]={},e["on"+t]&&(a[0]=e["on"+t])),a[i.$$guid]=i,e["on"+t]=Self.handleEvent)},Self.addEvent.guid=1,Self.removeEvent=function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.events&&e.events[t]&&delete e.events[t][i.$$guid]},Self.handleEvent=function(e){var t=!0;e=e||Self.fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var i=this.events[e.type];for(var a in i)this.$$handleEvent=i[a],!1===this.$$handleEvent(e)&&(t=!1);return t},Self.fixEvent=function(e){return e.preventDefault=Self.fixEvent.preventDefault,e.stopPropagation=Self.fixEvent.stopPropagation,e},Self.fixEvent.preventDefault=function(){this.returnValue=!1},Self.fixEvent.stopPropagation=function(){this.cancelBubble=!0},Self.addEvents=function(){Self.addEvent(document.body,"mousemove",Self.initFlip),Self.addEvent(document.body,"mouseout",Self.terminateFlip),Self.addEvent(window,"scroll",Self.endFlip)},Self.hasClass=function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},Self.closestElm=function(e,t,i){i=i||document.body;for(var a=t.charAt(0);e&&e!==i;){if("."===a&&Self.hasClass(e,t.substr(1)))return e;if("#"===a&&e.id===t.substr(1))return e;if("["===a&&e.getAttribute(t.substr(1,t.indexOf("]")-1)))return e;e=e.parentNode}return!1},Self.dataSet=function(string){var data;try{data=eval("("+string+")")}catch(e){data=!1}return data},Self.data=function(e,t,i){switch(e.data=e.data||{},arguments.length){case 3:e.data[t]=i;break;case 2:return e.data[t];default:return e.data}},Self.callbackData=function(){return data={index:o.index,setLength:o.setLength,currentImage:o.currentImage,imgWrapper:o.imgWrapper,currentUrl:o.currentUrl,active:o.active,status:o.status}},Self.initFlip=function(e){var t,i=(e=e||window.event).target||e.srcElement;window.clearTimeout(flipTimer),MG_Utils.hasClass(i,"img")&&MG_Utils.hasClass(i.querySelector(".thumb"),"js-videoThumbFlip")&&!i.querySelector(".js-videoThumbFlip").getAttribute("data-flipbook_active")&&(t=i.querySelector(".js-videoThumbFlip")),MG_Utils.hasClass(i,"js-videoThumbFlip")&&!i.getAttribute("data-flipbook_active")&&(t=i),t&&(Self.closestElm(t,".img").querySelector(".privateOverlay")||(flipTimer=window.setTimeout(function(){Self.startFlip(t)},100)))},Self.terminateFlip=function(e){var t=(e=e||window.event).target,i=e.relatedTarget;window.clearTimeout(flipTimer),MG_Utils.hasClass(t,"img")&&MG_Utils.hasClass(t.querySelector(".thumb"),"js-videoThumbFlip")&&t.querySelector(".thumb").getAttribute("data-flipbook_active")&&!MG_Utils.hasClass(i,"thumb")&&Self.endFlip(),MG_Utils.hasClass(t,"js-videoThumbFlip")&&t.getAttribute("data-flipbook_active")&&Self.endFlip()},Self.startFlip=function(e){e=e;var t,i,a,l,n,r,s,f,u,d,c,m,S,b,h=0,p=Self.params.thumbnailsSets.length;for(o.active&&!Self.closestElm(e,"[data-flipbook_active]")&&Self.endFlip(),oldThumbUrlAC=e.src;h<p;h++)if(Self.closestElm(e,Self.params.thumbnailsSets[h].thumbnailsContainer)&&(!Self.params.thumbnailsSets[h].extendHoverClassName&&Self.hasClass(e,Self.params.thumbnailsSets[h].thumbnailsClassName)||Self.params.thumbnailsSets[h].extendHoverClassName&&Self.closestElm(e,"."+Self.params.thumbnailsSets[h].extendHoverClassName))){if(d=u=e,Self.params.thumbnailsSets[h].excludeContainer&&Self.closestElm(u,Self.params.thumbnailsSets[h].excludeContainer))return!1;if(Self.params.thumbnailsSets[h].extendHoverClassName&&(d=(u=Self.closestElm(u,"."+Self.params.thumbnailsSets[h].extendHoverClassName)).querySelector("."+Self.params.thumbnailsSets[h].thumbnailsClassName)),o.active){if(u.getAttribute("data-flipbook_active"))return!1;Self.endFlip()}return r=Self.params.thumbnailsSets[h].cover?(l=(f=Self.dataSet(d.getAttribute("data-flipbook"))).setLength,a=f.firstThumbnail,s=parseInt(f.firstThumbnail,10)-f.incrementer,t=f.digitsPreffix,i=f.digitsSuffix,n=f.incrementer,-1):(Self.params.thumbnailsSets[h].adultCentro?(c=9,d.src=d.src.replace("primary","baseline/"+h)):c=1,m=/\(([^)]+)\)/,S=d.src.indexOf(")."),t=!(b=m.exec(d.src))||-1!==S?d.src.substring(0,d.src.lastIndexOf(Self.params.thumbnailsSets[h].digitsPreffix)+c):d.src.substring(0,d.src.lastIndexOf(")")+1),s=d.src.replace(t,""),i=Self.params.thumbnailsSets[h].digitsSuffix,s=parseInt(s.replace(i,""),10),a=Self.params.thumbnailsSets[h].firstThumbnail,l=Self.params.thumbnailsSets[h].setLength,(s-a)/(n=Self.params.thumbnailsSets[h].incrementer)),o={index:r,setLength:l,currentUrl:d.src,firstThumbnail:a,digits:s,digitsPreffix:t,digitsSuffix:i,matches:b,testString:S,incrementer:n,currentImage:d,imgWrapper:!1,interval:Self.params.thumbnailsSets[h].interval,active:!0,callback:Self.params.thumbnailsSets[h].callback,init:Self.params.thumbnailsSets[h].init,status:"started"},u.setAttribute("data-flipbook_active","1"),Self.params.thumbnailsSets[h].extendHoverClassName&&(o.imgWrapper=u),o.init&&!u.init&&(Self.callbackData(),o.init(data)),u.init||(Self.params.thumbnailsSets[h].adultCentro?Self.data(u,"oldThumbUrl",oldThumbUrlAC):(Self.data(u,"oldThumbUrl",d.src),Self.data(u,"oldIndex",r)),u.init=!0),o.callback&&(Self.callbackData(),o.callback(data)),Self.params.thumbnailsSets[h].resetIndex&&(o.digits=(l-1)*o.incrementer+parseInt(o.firstThumbnail,10),o.index=l-1,Self.callbackData()),window.clearTimeout(timer),timer=window.setTimeout(Self.preload,0),!1}},Self.endFlip=function(){var e;window.clearTimeout(timer),o.active&&((e=document.querySelector("[data-flipbook_active]"))&&(e.removeAttribute("data-flipbook_active"),"IMG"===e.nodeName?e.src=Self.data(e,"oldThumbUrl"):e.querySelector("img").src=Self.data(e,"oldThumbUrl")),o.active=!1,o.status="ended",o.index=Self.data(e,"oldIndex"),o.callback&&(Self.callbackData(),o.callback(data)))},Self.preload=function(){var e=new Image;o.digits<(o.setLength-1)*o.incrementer+parseInt(o.firstThumbnail,10)?(o.digits=o.digits+o.incrementer,o.index++):(o.digits=parseInt(o.firstThumbnail,10),o.index=0),o.firstThumbnail.length>String(o.digits).length?o.currentUrl=o.digitsPreffix+o.firstThumbnail.substring(0,o.firstThumbnail.length-String(o.digits).length)+o.digits+o.digitsSuffix:-1!==o.testString?o.currentUrl=o.digitsPreffix+o.digits+"("+o.matches[1]+")"+o.digitsSuffix:o.currentUrl=o.digitsPreffix+o.digits+o.digitsSuffix,e.onerror=function(){Self.endFlip()},e.onload=function(){o.active&&(timer="running"!==o.status?window.setTimeout(Self.flipImage,0):window.setTimeout(Self.flipImage,o.interval))},e.src=o.currentUrl},Self.flipImage=function(e){window.clearTimeout(timer),o.currentImage.src=o.currentUrl,o.status="running",o.callback&&(Self.callbackData(),o.callback(data)),void 0!==e&&(o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,Self.callbackData()),Self.preload()},Self.jumpTo=function(e){o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,o.firstThumbnail.length>String(o.digits).length?o.currentUrl=o.digitsPreffix+o.firstThumbnail.substring(0,o.firstThumbnail.length-String(o.digits).length)+o.digits+o.digitsSuffix:o.currentUrl=o.digitsPreffix+o.digits+o.digitsSuffix,o.currentImage.src=o.currentUrl,o.callback&&(Self.callbackData(),o.callback(data))},Self.changeIndex=function(e){o.digits=e*o.incrementer+parseInt(o.firstThumbnail,10),o.index=e,Self.callbackData()},Self.pauseFlip=function(){window.clearTimeout(timer),o.status="paused"}};
var MG_Scroll={init:function(e){MG_Scroll._isPlainObject(e)&&MG_Scroll._setupElements(MG_Scroll._extend({},{width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:0,alwaysVisible:!0,disableFadeOut:!0,railVisible:!0,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"scrollRail",barClass:"scrollBar",wrapperClass:"scrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px",selector:null,horizontal:!1},e))},_extend:function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var l in arguments[t])arguments[t].hasOwnProperty(l)&&(e[l]=arguments[t][l]);return e},_fadeIn:function(e){var t,l=10*MG_Scroll._getStyle(e,"opacity");clearInterval(t),t=setInterval(function(){l<4?(l++,e.style.opacity=(l/10).toFixed(1)):(clearInterval(t),t=0)},50)},_fadeOut:function(e){var t,l=10*MG_Scroll._getStyle(e,"opacity");clearInterval(t),t=setInterval(function(){0<l?(l--,e.style.opacity=(l/10).toFixed(1)):(clearInterval(t),t=0)},100)},_closestClassElement:function(e,t){for(;e.className!=t;)if(!(e=e.parentNode))return null;return e},_getStyle:function(e,t){return window.getComputedStyle?getComputedStyle(e,"")[t]:e.currentStyle?e.currentStyle[t]:void 0},_isPlainObject:function(e){var t;if(!e||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!core_hasOwn.call(e,"constructor")&&!core_hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!0}if(jQuery.support.ownLast)for(t in e)return core_hasOwn.call(e,t);for(t in e);return void 0===t||core_hasOwn.call(e,t)},isWindow:function(e){return e&&(e===function(){return this}()||e.eval&&e.eval.call&&e.eval("this === (function(){ return this })()"))||!1},_makeUnselectable:function(e){"string"==typeof e&&(e=document.getelentById(e)),e&&(e.onselectstart=function(){return!1},e.style.MozUserSelect="none",e.style.KhtmlUserSelect="none",e.unselectable="on")},_getOffset:function(e,t){var l=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.getComputedStyle&&e.ownerDocument.defaultView.getComputedStyle(e,null),o=l&&l.getPropertyValue(t?"height":"width")||"";return o=o&&-1<o.indexOf(".")?parseFloat(o)+parseInt(l.getPropertyValue(t?"padding-top":"padding-left"))+parseInt(l.getPropertyValue(t?"padding-bottom":"padding-right"))+parseInt(l.getPropertyValue(t?"border-top-width":"border-left-width"))+parseInt(l.getPropertyValue(t?"border-bottom-width":"border-right-width")):t?e.offsetHeight:e.offsetWidth},_outerHeight:function(e){var t=MG_Scroll._getOffset(e,!0),l=MG_Scroll._getStyle(e,"marginTop"),o=MG_Scroll._getStyle(e,"marginBottom");return t+=parseInt(l)+parseInt(o)},_outerWidth:function(e){var t=MG_Scroll._getOffset(e),l=MG_Scroll._getStyle(e,"marginLeft"),o=MG_Scroll._getStyle(e,"marginRight");return t+=parseInt(l)+parseInt(o)},_wrap:function(e,t){return t=t||document.createElement("div"),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t.appendChild(e)},_setupElements:function(e){el=e.selector;for(var t=0;t<el.length;t++)MG_Scroll._processElement(el[t],e)},_processElement:function(e,h){var o,t,r,l,i,u,f,n,a,s,d=30,p=!1,y=e;if(MG_Utils.hasClass(y.parentNode,h.wrapperClass)){var c=h.horizontal?y.scrollLeft:y.scrollTop;MG_Utils.children(y.parentNode);if(f=document.querySelectorAll("."+h.barClass)[0],a=document.querySelectorAll("."+h.railClass)[0],G(),MG_Scroll._isPlainObject(h)){if(!h.horizontal&&"height"in h&&"auto"==h.height){y.parentNode.style.height="auto",y.style.height="auto";var g=y.parentNode.parentNode.style.height;y.parentNode.style.height=g,y.style.height=g}else if("height"in h){var _=h.height;y.parentNode.style.height=_,y.style.height=_}if("scrollTo"in h)c=parseInt(h.scrollTo);else if("scrollBy"in h)c+=parseInt(h.scrollBy);else if("bottom"===h.start)c=5e3;else if("destroy"in h)return;b(c,!1,!0)}}else if(!(MG_Scroll._isPlainObject(h)&&"destroy"in h)){if(h.horizontal?h.height="auto"==h.height?y.parentNode.clientHeight:h.height:h.width="auto"==h.width?y.parentNode.clientWidth:h.width,(n=document.createElement("div")).className+=h.wrapperClass,n.style.position="relative",n.style.overflow="hidden",n.style.width=h.width,n.style.height=h.height,y.style.overflow="hidden",y.style.width=h.width,y.style.height=h.height,(a=document.createElement("div")).className+=h.railClass,a.style.position="absolute",a.style.display=h.alwaysVisible&&h.railVisible?"block":"none",a.style.borderRadius=h.railBorderRadius,a.style.background=h.railColor,a.style.opacity=h.railOpacity,a.style.zIndex=90,h.horizontal?(a.style.width="100%",a.style.height=h.size,a.style.bottom=0):(a.style.width=h.size,a.style.height="100%",a.style.top=0),(f=document.createElement("div")).className+=h.barClass,f.style.background=h.color,f.style.position="absolute",f.style.opacity=h.opacity,f.style.display=h.alwaysVisible?"block":"none",f.style.borderRadius=h.borderRadius,f.style.BorderRadius=h.borderRadius,f.style.MozBorderRadius=h.borderRadius,f.style.WebKitBorderRadius=h.borderRadius,f.style.zIndex=99,h.horizontal?(f.style.height=h.size,f.style.left=0,f.style.bottom=0):(f.style.top=0,f.style.width=h.size,"right"==h.position?(a.style.right=0,f.style.right=0):(a.style.left=0,f.style.left=0)),MG_Scroll._wrap(y,n),y.parentNode.appendChild(f),y.parentNode.appendChild(a),h.railDraggable){var v="",m="",w=y.clientHeight;MG_Utils.addEventHandler(y,"touchstart",function(e){v=h.horizontal?e.touches[0].clientX:e.touches[0].clientY,m=h.horizontal?parseInt(f.style.left):parseInt(f.style.top)}),MG_Utils.addEventHandler(y,"touchmove",function(e){var t=h.horizontal?e.touches[0].clientX:e.touches[0].clientY,l=v+m-t;0<=l&&l<=w&&e.cancelable&&(e.preventDefault(),e.stopPropagation()),b(l,!0,!0)},!1),MG_Utils.addEventHandler(f,"mousedown",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,r=!0;var l=h.horizontal?e.clientX:e.clientY,o=h.horizontal?parseInt(f.style.left):parseInt(f.style.top);function t(e){var t=h.horizontal?e.clientX:e.clientY;b(o+t-l,!0,!0)}return MG_Utils.addEventHandler(document,"mousemove",t),MG_Utils.addEventHandler(document,"mouseup",function(e){r=!1,I(),MG_Utils.removeEventHandler(document,"mousemove",t)}),!1})}var M;if(MG_Utils.addEventHandler(a,"mouseenter",function(){z()}),MG_Utils.addEventHandler(a,"mouseleave",function(){I()}),MG_Utils.addEventHandler(f,"mouseenter",function(){t=!0,h.horizontal?f.style.height="10px":f.style.width="10px"}),MG_Utils.addEventHandler(f,"mouseleave",function(){t=!1,h.horizontal?f.style.height=h.size:f.style.width=h.size}),MG_Utils.addEventHandler(y,"mouseenter",function(){o=!0,z()}),MG_Utils.addEventHandler(y,"mouseleave",function(){o=!1,I()}),G(),"bottom"===h.start)b(h.horizontal?y.offsetWidth-f.offsetWidth:y.offsetHeight-f.offsetHeight,!0,!0);else"top"!==h.start&&(b(h.start,null,!0),h.alwaysVisible||(f.style.display="none"));M=y,MG_Utils.addEventHandler(M,"DOMMouseScroll",S,!1),MG_Utils.addEventHandler(M,"mousewheel",S,!1),this.showDefault=function(){z()}}function S(e){if(o){var t=0;(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3);var l=e.target||e.srcTarget||e.srcElement;MG_Scroll._closestClassElement(l,h.wrapperClass)==y.parentNode&&b(t,!0,!1),e.preventDefault&&!p&&e.preventDefault(),p||(e.returnValue=!1)}}function b(e,t,l){p=!1;var o=e,r=h.horizontal?MG_Scroll._getOffset(y):MG_Scroll._getOffset(y,!0),i=h.horizontal?MG_Scroll._getOffset(f):MG_Scroll._getOffset(f,!0),n=r-i;if(t&&(o=h.horizontal?parseInt(f.style.left)+e*parseInt(h.wheelStep)/100*i:parseInt(f.style.top)+e*parseInt(h.wheelStep)/100*i,o=Math.min(Math.max(o,0),n),c(o=0<e?Math.ceil(o):Math.floor(o))),l){c(e);var a=Math.min(Math.max(e,0),n);a<=e&&c(a),e<=0&&c(0)}if(h.horizontal){var s=MG_Scroll._outerWidth(y);o=(u=parseInt(f.style.left)/(s-MG_Scroll._outerWidth(f)))*(y.scrollWidth-s),y.scrollLeft=o}else{var d=MG_Scroll._outerHeight(y);o=(u=parseInt(f.style.top)/(d-MG_Scroll._outerHeight(f)))*(y.scrollHeight-d),y.scrollTop=o}function c(e){h.horizontal?f.style.left=e+"px":f.style.top=e+"px"}z(),I()}function G(){if(h.horizontal){s=Math.max(y.offsetWidth/y.scrollWidth*y.offsetWidth,d),f.style.width=s+"px";var e=s==y.offsetWidth?"none":"block";f.style.display=e}else{i=Math.max(y.offsetHeight/y.scrollHeight*y.offsetHeight,d),f.style.height=i+"px";e=i==y.offsetHeight?"none":"block";f.style.display=e}}function z(){if(G(),clearTimeout(l),p=u==~~u&&h.allowPageScroll,h.horizontal){if(s>=y.offsetWidth)return void(p=!0)}else if(i>=y.offsetHeight)return void(p=!0);MG_Scroll._fadeIn(f),h.railVisible&&MG_Scroll._fadeIn(a)}function I(){h.alwaysVisible||(l=setTimeout(function(){h.disableFadeOut&&o||t||r||(MG_Scroll._fadeOut(f),MG_Scroll._fadeOut(a))},1500))}}};
var dropdown=function(){"use strict";var instance=null,dropdowns=[],id=0,dontProcess=!1;function Dropdown(options){var defaults={dropdownTrigger:"dropdownTrigger",dropdownWrapper:"dropdownWrapper",timeout:4e3,hideDelay:!0};this.options=MG_Utils.extendDefaults(defaults,options),this.wrapper=this.options.wrapper,this.selector=this.options.selector,this.additionalElements=document.querySelectorAll(eval(this.options.additionalElements)),this.triggers=this.wrapper.querySelectorAll("."+this.options.dropdownTrigger),this.dropdown=this.wrapper.querySelector("."+this.options.dropdownWrapper),this.hiddenValue=this.wrapper.querySelector('input[type="hidden"]'),this.activateCloseDelay=hideDelayed.call(this),this.closeCallback="function"==typeof this.options.closeCallback?this.options.closeCallback:"",_init.call(this)}function _init(){return!(!this.triggers||!this.dropdown)&&(!MG_Utils.hasClass(this.wrapper,"js_dropdownBound")&&(MG_Utils.addClass(this.wrapper,"js_dropdownBound"),_initEvents.call(this),_checkHiddenValue.call(this),void this.wrapper.setAttribute("data-dropdown-id",id++)))}function _initEvents(){var e=this;[].forEach.call(this.triggers,function(t){MG_Utils.addEventHandler(t,"click",function(t){_triggersHandler.call(e,t)})}),("string"==typeof this.selector&&".channelsAZ"!=this.selector||"object"==typeof this.selector&&!MG_Utils.hasClass(this.wrapper,"channelsAZ"))&&("string"==typeof this.selector&&".alphabetFilter"!=this.selector||"object"==typeof this.selector&&!MG_Utils.hasClass(this.wrapper,"alphabetFilter"))&&this.options.hideDelay&&this.activateCloseDelay(),MG_Utils.addEventHandler(this.dropdown,"click",function(t){_dropdownHandler.call(e,t)})}function _triggersHandler(t){var e=null;if(dontProcess)dontProcess=!1;else{var i=(t=t||window.event).target||t.srcElement;if(!MG_Utils.hasClass(i,this.options.dropdownTrigger))for(;(i=i.parentElement)&&!MG_Utils.hasClass(i,this.options.dropdownTrigger););var o=!1,n="withScroll"==this.dropdown.id?1:0;1==this.triggers.length?o=!(!this.dropdown.style.display||"none"===this.dropdown.style.display):1<this.triggers.length&&(o=!(!this.dropdown.style.display||"none"===this.dropdown.style.display)&&this.dropdown.getAttribute("data-type")==i.getAttribute("data-type")),o?(this.dropdown.style.display="none",n&&(e=MG_Utils.nextDivSibling(this.dropdown))&&void 0!==e.style&&(e.style.display="none")):(dropdowns.forEach(function(t){t.dropdown.style.display="none"}),i.getAttribute("data-type")&&(this.dropdown.getAttribute("data-type"),i.getAttribute("data-type")),this.dropdown.style.display="block",_notificationPosition.call(this,t))}}function _notificationPosition(t){var e=t.target||t.srcElement;if("notificationIcons"==e.parentNode.getAttribute("id")||"notificationIcons"==e.parentNode.parentNode.getAttribute("id")){var i=e.querySelector("i")||e.parentNode.querySelector("i"),o=document.querySelector("#notificationBox"),n=o.clientWidth/2,r=MG_Utils.offset(i).left,s=i.clientWidth/2;o.style.left=Math.round(r-n+s)+"px"}}function _dropdownHandler(t){var e=(t=t||window.event).target||t.srcElement;if("li"!==e.tagName.toLowerCase())for(;(e=e.parentElement)&&"li"!==e.tagName.toLowerCase(););this.setItem(e)}function _checkHiddenValue(){this.hiddenValue&&this.hiddenValue.length&&""!=this.hiddenValue.value&&(_selectActiveItem.call(this)||setTimeout(function(){_selectActiveItem.apply(context)},1e3))}function _selectActiveItem(){var t=this.dropdown.querySelector('li[data-value="'+this.hiddenValue_.value+'"]');if(!t.length)return!1;MG_Utils.triggerEvent(t,"click"),dontProcess=!0}Dropdown.prototype={constructor:Dropdown,setItem:function(t){var e,i=this.wrapper.querySelector(".dropdownTrigger .textFilter");if(isNaN(t)||(0|(e=parseFloat(t)))!==e||(t=this.dropdown.querySelectorAll("li")[t]),!MG_Utils.isElement(t))return!1;MG_Utils.removeClassMultiple(this.dropdown.querySelectorAll("li"),"active"),MG_Utils.addClass(t,"active"),i&&MG_Utils.setText(i,t.textContent||t.innerText),this.hiddenValue&&(this.hiddenValue.value=t.getAttribute("data-value"))}};var hideDelayed=function(){var o=this;function i(){o.dropdown.getAttribute("data-hideDelayedTimeoutId")&&(clearTimeout(parseInt(MG_Utils.getData(o.dropdown,"hideDelayedTimeoutId"))),MG_Utils.setData(o.dropdown,"hideDelayedTimeoutId",""))}return function(){for(var t=[],e=0;e<=o.triggers.length-1;e++)t.push(o.triggers[e]);t.push(o.dropdown),t.forEach(function(t){MG_Utils.addEventHandler(t,"mouseenter",function(t){MG_Utils.setData(o.dropdown,"hideDelayedOver","1"),i(o.dropdown)}),MG_Utils.addEventHandler(t,"mouseleave",function(t){MG_Utils.setData(o.dropdown,"hideDelayedOver","0"),i(o.dropdown);var e=setTimeout(function(){!function(){if("0"==MG_Utils.getData(o.dropdown,"hideDelayedOver")){for(var t=[],e=0;e<=o.additionalElements.length-1;e++)t.push(o.additionalElements[e]);if(t.push(o.dropdown),t.forEach(function(t){t.style.display="none"}),document.getElementById("withScroll")){var i=MG_Utils.nextDivSibling();i&&void 0!==i.style&&(i.style.display="none")}"function"==typeof o.closeCallback&&o.closeCallback(),clearTimeout(parseInt(MG_Utils.getData(o.dropdown,"hideDelayedTimeoutId"))),MG_Utils.setData(o.dropdown,"hideDelayedTimeoutId","")}}()},o.options.timeout);MG_Utils.setData(o.dropdown,"hideDelayedTimeoutId",e)})})}};return MG_Utils.addEventHandler(document,"click",function(t){var e=(t=t||window.event).target||t.srcElement;if(!MG_Utils.hasClass(e,"dropdownTrigger"))for(;(e=e.parentElement)&&!MG_Utils.hasClass(e,"dropdownTrigger"););dropdowns.forEach(function(t){if(e&&e.parentNode.querySelector(".dropdownWrapper")===t.dropdown)return!1;t.dropdown.style.display="none"})}),{init:function(e,i){var t;i=i||{};t=e instanceof Array||MG_Utils.isElement(e)?e:document.querySelectorAll(e),[].forEach.call(t,function(t){i.wrapper=t,i.selector=e,(instance=new Dropdown(i)).triggers&&instance.dropdown&&dropdowns.push(instance)})},get:function(t){return dropdowns[t]}}}();
var autocompleteSearch=function(){"use strict";var t;function e(){return this.options=MG_Utils.extendDefaults({minLength:2,showDelay:400,showPornstars:!0,defaultType:"video",boldenResults:!0,typesListContainerId:"searchTypes",formId:"search_form",inputId:"searchInput",submitBtnId:"btnSearch",suggestionsListId:"searchSuggestions"},arguments[0]),this.types=this.options.types,this.placeholderData=this.options.placeholderData,this.typesList=document.getElementById(this.options.typesListContainerId),this.form=document.getElementById(this.options.formId),this.input=document.getElementById(this.options.inputId),this.submitBtn=document.getElementById(this.options.submitBtnId),this.suggestionsList=document.getElementById(this.options.suggestionsListId),this.typeSelected=document.getElementById("searchTypeSelected"),this.focusInput=focusSearchInput,this.currentType=null,this.cache=null,this.term=null,this.searchName=null,this.tempTerm=null,this.timeouts={autocomplete:{timer:null,value:null,name:null,matches:0}},t||function(){if(!this.input)return;(function(){(function(){var s=this.typesList.innerHTML;this.types.forEach(function(t){var e=t.className||t.name;s+='<li class="'+e+'" data-search-type="'+t.name+'"><i class="'+e+'"></i><span>'+t.name+"</span></li>"}),this.typesList.innerHTML=s}).call(this),dropdown.init("#searchTypeWrapper"),function(){var t=function(){for(var t=0;t<this.types.length;t++)if(this.types[t].testTypePattern==this.options.defaultType)return this.types[t]}.call(this),e=window.location.pathname,s=e.split("/")[1];if(s){if("gay"==s||"shemale"==s){var i=e.split("/")[2];"gifs"==i?s="gifs":"pornstars"==i&&(s="pornstars")}if("user"==s)"welcome"==e.split("/")[2]&&(s="");for(var n=0;n<this.types.length;n++)this.types[n].testTypePattern==s&&"edit"!=e.split("/")[2]&&(t=this.types[n])}this.currentType=t}.call(this),this.setType(),function(){var i=this;MG_Utils.children(i.typesList).slice(1).forEach(function(t){MG_Utils.addEventHandler(t,"click",function(t){var e=(t=t||window.event).target||t.srcElement;if("li"!==e.nodeName.toLowerCase()){for(var s=e;(s=s.parentElement)&&"li"!==s.nodeName.toLowerCase(););e=s}i.setType(e.getAttribute("data-search-type")),i.typesList.focus(),n.call(i,t)})})}.call(this)}).call(this),this.focusInput?this.input.focus():this.input.blur(),function(){var e=this;(function(){var e=this;MG_Utils.addEventHandler(this.input,"keyup",function(t){n.call(e,t)}),MG_Utils.addEventHandler(this.input,"keypress",function(t){var e=t.keyCode?t.keyCode:t.charCode;if(60==e||62==e)return!1}),MG_Utils.addEventHandler(this.input,"keydown",function(t){(function(t){var e,s=t.keyCode?t.keyCode:t.charCode,i=this.suggestionsList.querySelectorAll("li"),n=this.suggestionsList.querySelector(".selected");n=n||i[0];if(40!=s&&38!=s)return;MG_Utils.removeClassMultiple(i,"selected"),40==s?e=n.length||n!==i[i.length-1]?n.nextElementSibling||MG_Utils.nextElementSibling(n):i[0]:38==s&&(e=n.length||n!==i[0]?n.previousElementSibling||MG_Utils.previousElementSibling(n):i[i.length-1]);MG_Utils.addClass(e,"selected"),e.getAttribute("data-value")?(this.input.value=e.getAttribute("data-value"),this.term=this.input.value):this.input.value=this.tempTerm}).call(e,t)}),MG_Utils.addEventHandler(this.input,"click",function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1}),MG_Utils.addEventHandler(this.suggestionsList,"click",function(t){(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1}),MG_Utils.addEventHandler(document.body,"click",function(t){e.suggestionsList.style.display="none"})}).call(this),MG_Utils.addEventHandler(this.submitBtn,"click",function(t){c.call(e,t)}),MG_Utils.addEventHandler(this.form,"submit",function(t){c.call(e,t)})}.call(this),t=this}.call(this),t}function c(t){var e=this.input.value.replace(/^[ \t]+|[ \t]+$/gi,""),s=this.input.getAttribute("placeholder"),i=this.suggestionsList.querySelector(".selected");if(""!=e&&e!=s){if(i&&(MG_Utils.hasClass(i,"pornstar")||MG_Utils.hasClass(i,"channel")))return MG_Utils.triggerEvent(i,"click"),t.preventDefault?t.preventDefault():t.returnValue=!1,!1;if(e=e.toLowerCase(),"gay"==(e=(e=encodeURIComponent(e)).replace(/%20/g,"+"))){switch(this.currentType.newUrl="gay",this.currentType.name.toLowerCase()){case"photos":n="albums/"+this.currentType.newUrl;break;case"pornstars":case"gifs":n=this.currentType.newUrl+"/"+this.currentType.name;break;case"members":n="user/search?gender=1&orientation=1";break;case"video":n="gayporn";break;case"cam models":n="live?s=gay";break;default:n="gayporn"}window.location="/"+n}else{var n=this.currentType.submitUrl+e;window.location=n}}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1}function n(t){var e=RegExp(/[\<\>]/gi),s=this.input.value.match(e),i=this.input.value.replace(e,""),n=t.keyCode?t.keyCode:t.charCode,a=this,l=this.input.value.trim(),r=this.currentType.name,o=!1;if("38"==n||"40"==n||"13"==n)return!1;if(this.term&&this.term==l&&this.searchName==this.currentType.name)return!1;if(s&&(this.input.value=i),"13"!=n||"undefined"!=typeof arrowKeysSelected||MG_Utils.hasClass(this.form,"onHold")||"hd"==this.input.value.toLowerCase()&&"video"==this.currentType.name&&(window.location="/hd"),this.term=l,this.tempTerm=l,this.searchName=this.currentType.name,!this.currentType.autocompleteUrl)return!1;for(var u in this.cache=this.input.getAttribute("data-autocomplete-cache")||{},"object"!=typeof this.cache&&(this.cache=JSON.parse(this.cache)),void 0===this.cache[r]&&(this.cache[r]={}),this.cache[r])this.term==u&&(response(this.cache[r][u]),o=!0);if(o)return!1;this.input.value.length<this.options.minLength?(this.timeouts.autocomplete.value="",clearTimeout(this.timeouts.autocomplete.timer),this.timeouts.autocomplete.matches=0,this.suggestionsList.style.display="none"):this.input.value==this.timeouts.autocomplete.value&&this.currentType.name==this.timeouts.autocomplete.name||(this.timeouts.autocomplete.value=this.input.value,clearTimeout(this.timeouts.autocomplete.timer),"user"!=this.currentType.autocompleteUrl&&(this.timeouts.autocomplete.timer=setTimeout(function(){MG_Utils.ajaxGet({url:a.currentType.autocompleteUrl,data:{pornstars:a.options.showPornstars,token:a.input.getAttribute("data-token"),orientation:a.input.getAttribute("data-orientation"),q:a.input.value,alt:0},success:function(t){(function(t){0==this.timeouts.autocomplete.matches&&(this.suggestionsList.style.display="none");this.suggestionsList.innerHTML="";(function(t){var e=!1,s=this;if(t instanceof Array&&t.length){for(var i in this.timeouts.autocomplete.matches=t.length,MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Suggestions</a></li>'),t)MG_Utils.appendString(this.suggestionsList,'<li class="item query" data-value="'+t[i]+'"><a>'+(1==this.options.boldenResults?h.call(this,t[i]):t[i])+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".query"),function(t){MG_Utils.addEventHandler(t,"click",function(t){s.input.value=this.textContent||this.innerText,c.call(s,t)})}),e=!0}else{if(t.queries instanceof Array&&t.queries.length)if("photos"==this.currentType.name){if(t.albums instanceof Array&&0<t.albums.length){for(var i in this.timeouts.autocomplete.matches=t.albums.length,MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">'+this.currentType.name.capitalize()+" results</a></li>"),t.queries)t.albums.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item query" data-value="'+t.albums[i]+'"><a>'+(1==this.options.boldenResults?h.call(this,t.albums[i]):t.albums[i])+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".query"),function(t){MG_Utils.addEventHandler(t,"click",function(t){s.input.value=this.textContent||this.innerText,c.call(s,t)})}),e=!0}}else if("pornstars"!=this.currentType.name){for(var i in this.timeouts.autocomplete.matches=t.queries.length,MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">'+this.currentType.name.capitalize()+" results</a></li>"),t.queries)t.queries.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item query" data-value="'+t.queries[i]+'"><a>'+(1==this.options.boldenResults?h.call(this,t.queries[i]):t.queries[i])+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".query"),function(t){MG_Utils.addEventHandler(t,"click",function(t){s.input.value=this.textContent||this.innerText,c.call(s,t)})}),e=!0}if(t.pornstars instanceof Array&&t.pornstars.length){for(var i in MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Pornstar profiles</a></li>'),t.pornstars)t.pornstars.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item pornstar" data-slug="'+t.pornstars[i].slug+'" data-value="'+t.pornstars[i].name+'"><a>'+(1==this.options.boldenResults?h.call(this,t.pornstars[i].name):t.pornstars[i].name)+'&nbsp;&nbsp;-&nbsp;&nbsp;<span class="rank">Rank: '+t.pornstars[i].rank+"</span></a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".pornstar"),function(t){MG_Utils.addEventHandler(t,"click",function(){var t=this.getAttribute("data-slug");location.href="/pornstar/"+t})}),e=!0}if(t.channels instanceof Array&&t.channels.length){for(var i in MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Channels</a></li>'),t.channels)t.channels.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item channel" data-slug="'+t.channels[i].slug+'" data-value="'+t.channels[i].name+'"><a>'+(1==this.options.boldenResults?h.call(this,t.channels[i].name):t.channels[i].name)+'&nbsp;&nbsp;-&nbsp;&nbsp;<span class="rank">Rank: '+t.channels[i].rank+"</span></a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".channel"),function(t){MG_Utils.addEventHandler(t,"click",function(){var t=this.getAttribute("data-slug");location.href="/channels/"+t})}),e=!0}if(1==showStreamate&&t.streamates instanceof Array&&t.streamates.length){for(var i in MG_Utils.appendString(this.suggestionsList,'<li class="label"><a class="label">Cam Models</a></li>'),t.streamates)t.streamates.hasOwnProperty(i)&&MG_Utils.appendString(this.suggestionsList,'<li class="item streamate" data-slug="'+t.streamates[i].slug+'" data-value="'+t.streamates[i].name+'"><a>'+(1==this.options.boldenResults?h.call(this,t.streamates[i].name):t.streamates[i].name)+"</a></li>");[].forEach.call(this.suggestionsList.querySelectorAll(".streamate"),function(t){MG_Utils.addEventHandler(t,"click",function(){s.input.value=this.textContent||this.innerText;var t=this.getAttribute("data-slug");location.href="/live/"+t})}),e=!0}}return e}).call(this,t)?this.suggestionsList.style.display="block":(this.timeouts.autocomplete.matches=0,this.suggestionsList.style.display="none")}).call(a,t)}})},this.options.showDelay)))}function h(t){var e=this.input.value,s=t.search(RegExp(""+e,"i"));if(0<=s){e=e.toLowerCase();for(var i=t.split(/\s|_/),n=0;n<i.length;n++)i[n]=i[n].substr(0,1).toUpperCase()+(1<i[n].length?i[n].substr(1,i[n].length).toLowerCase():"");t=(t=i.join(" ")).slice(0,s)+'<span class="soughtValue">'+e+"</span>"+t.slice(s+e.length)}return t}return e.prototype={constructor:e,setType:function(t){"string"==typeof t&&(this.currentType=this.getType(t)),this.typeSelected.setAttribute("data-search-type",this.currentType.className||this.currentType.name),this.input.setAttribute("placeholder",function(){switch(this.currentType.name.replace(/\s/g,"").toLowerCase()){case"photos":return this.placeholderData.photos;case"members":return this.placeholderData.members;case"pornstars":return this.placeholderData.pornstars;case"gifs":return this.placeholderData.gifs;case"cammodels":return this.placeholderData.cams;default:return this.placeholderData.videos}}.call(this)),this.typeSelected.querySelector("i").className=this.currentType.className||this.currentType.name,this.typesList.style.display="none"},getType:function(t){t=t||this.typeSelected.getAttribute("data-search-type");for(var e=0;e<this.types.length;e++)if(this.types[e].name==t)return this.currentType=this.types[e],this.currentType}},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},e}();
"object"!=typeof console&&(console={log:function(){},warn:function(){},error:function(){},info:function(){}});var disablePlaylistPlusButon="false",createPlaylistModalContent=document.getElementById("create-playlist-modal");if(createPlaylistModalContent)var createPlaylistModal=new MG_Modal({content:createPlaylistModalContent,className:"createPlaylistContainer"});var friendRequestModalContent=document.getElementById("friendRequestModal");if(friendRequestModalContent)var friendRequestModal=new MG_Modal({content:friendRequestModalContent,className:"friendRequestContainer"});function appendedTasteProfile(e){var t=document.getElementById(e);if(t&&storageAvailable("localStorage")&&localStorage.tasteCategories)return t.value=localStorage.getItem("tasteCategories")}function scrollToElement(e,t){for(var l=document.body.scrollTop,o=(e=document.querySelector(e),MG_Utils.offset(e).top),i=l;i<o;i+=t)document.body.scrollTop=i}function getCookie(e){var t,l,o,i=document.cookie.split(";");for(t=0;t<i.length;t++)if(l=i[t].substr(0,i[t].indexOf("=")),o=i[t].substr(i[t].indexOf("=")+1),(l=l.replace(/^\s+|\s+$/g,""))==e)return unescape(o)}function setCookie(e,t,l){var o=new Date;o.setDate(o.getDate()+l);var i=escape(t)+(null==l?"":"; expires="+o.toUTCString());document.cookie=e+"="+i}function builtModal(e,t,l,o,i,a){void 0!==friendRequestModal&&friendRequestModal.openModal();var r=document.getElementById("messageRequest"),s=document.getElementById("preventClick"),n=document.getElementById("friendRequestForm"),c=document.getElementById("fromPic");userId=document.getElementById("friendRequestUserId"),elements=document.querySelectorAll(".request-modal .last"),s.setAttribute("data-refresh",a),s.setAttribute("data-user-id",e),n.setAttribute("action",i),c.setAttribute("src",t),MG_Utils.wrap(c,"<a href='"+o+"'></a>"),r.value=r.getAttribute("data-val"),MG_Utils.setText(userId,e);for(var d=0;d<elements.length;d++)elements[d].innerHTML='You are about to add <a href="'+o+'"> '+l+' </a> as a friend. We will then notify <a href="'+o+'"> '+l+" </a> who will then confirm that you are friends."}function recal(){var e=document.getElementById("messageRequest"),t=document.getElementById("chars_left"),l=1e3-e.value.length;t.innerHTML=Math.max(l,0)+" characters left.",l<0&&MG_Utils.appendString(t,' <span style = "color: #F00">You have over 1000 characters.<br />Anything past 1000 will get chopped off.</span>')}function getUrlVars(){var o={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,t,l){o[t]=l}),o}function nl2br(e){return e.replace(/\n/g,"<br />")}function strpos(e,t,l){var o=(e+"").indexOf(t,l||0);return-1!==o&&o}function updateQueryStringParameter(e,t,l){var o=new RegExp("([?&])"+t+"=.*?(&|$)","i"),i=-1!==e.indexOf("?")?"&":"?";return e.match(o)?e.replace(o,"$1"+t+"="+l+"$2"):e+i+t+"="+l}function initTooltip(){var o=document.getElementById("tooltip");function i(e,t){o.style.left=t.left-o.clientWidth/2+Math.floor(e.clientWidth/2)-1+"px",o.style.left=parseFloat(o.style.left)<0?"0":o.style.left,o.classList.remove("tooltipSmall"),o.style.width="auto"}o&&(document.body.addEventListener("mouseenter",function(e){var t=e.target,l="";t&&MG_Utils.hasClass(t,"tooltipTrig")&&(l=t.getAttribute("data-title"),o.innerHTML="<div class='tooltip-sub'>"+l+" </div></div><div class='arrow-down'></div>",o.style.display="block",MG_Utils.addClass(o,t.getAttribute("type")),function(e){var t;t=MG_Utils.offset(e),o.style.left=t.left-o.clientWidth/2+Math.floor(e.clientWidth/2)-1+"px",window.onresize=function(){o.style.left=0},e.classList.contains("pornstarPrev")&&parseFloat(o.style.left)<-3?(o.classList.add("tooltipSmall"),o.style.width=o.clientWidth+parseFloat(o.style.left)-14+"px",o.style.left="0"):i(e,t);o.style.top=t.top-o.clientHeight-o.querySelector(".arrow-down").clientTop+"px"}(t))},!0),document.body.addEventListener("mouseleave",function(e){var t=e.target;t&&MG_Utils.hasClass(t,"tooltipTrig")&&(o.style.display="none")},!0))}if(Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var l,o;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),a=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(1<arguments.length&&(l=t),o=0;o<a;){var r;o in i&&(r=i[o],e.call(l,r,o,i)),o++}}),document.querySelector(".tooltipPromo")&&document.querySelector("#headerUpgradePremiumBtn")){var tooltipPromoButton=document.querySelector("#headerUpgradePremiumBtn"),tooltipPromoContent=document.querySelector(".tooltipPromo"),tooltipPromoRemove=tooltipPromoContent.querySelector("span");function tooltipPromo(){var e=tooltipPromoButton?MG_Utils.offset(tooltipPromoButton):null;e&&tooltipPromoContent&&(tooltipPromoContent.style.left=e.left-(tooltipPromoContent.clientWidth-tooltipPromoButton.clientWidth)/2+"px",tooltipPromoContent.style.top=e.top+7+"px",tooltipPromoContent.style.opacity="1")}MG_Utils.addEventHandler(tooltipPromoRemove,"click",function(e){e.stopPropagation(),setCookie("promoTooltip","1"),tooltipPromoContent.remove()}),MG_Utils.addEventHandler(window,"load",tooltipPromo),MG_Utils.addEventHandler(window,"resize",tooltipPromo)}function renderCommentLinks(){for(var e,t=document.querySelectorAll(".commentUsernameLink"),l=0;l<t.length;l++)e=t[l],MG_Utils.hasClass(e,"processed")||(MG_Utils.addClass(e,"processed"),e.getAttribute("data-href")?e.innerHTML='<a href="'+e.getAttribute("data-href")+'">@'+e.getAttribute("data-username")+"</a>":e.innerHTML="<span>@"+e.getAttribute("data-username")+"</span>");var o=document.querySelectorAll(".js_taggable");if(0<o.length){for(l=0;l<o.length;l++)MG_Utils.empty(o[l]);friendList=[]}}var blurTimeout="";function focusReply(){if(document.querySelectorAll("form.streamCommentFrom"))for(var e=document.querySelectorAll("form.streamCommentFrom"),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"blur",function(e){blurTimeout=setTimeout(function(){var e=MG_UtilsNew.closest(this,"form"),t=e.querySelectorAll(".streamSubmitInput"),l=e.querySelectorAll(".streamSections");MG_Utils.addClass(t,"focusReply"),MG_Utils.addClass(t,"hidden"),MG_Utils.addClass(l,"hidden")},200)});if(document.querySelectorAll(".streamTextArea")){var l=document.querySelectorAll(".streamTextArea");MG_Utils.setText(l,"");for(t=0;t<l.length;t++)MG_Utils.addEventHandler(l[t],"focus",function(e){var t=this.value,l=MG_UtilsNew.closest(this,".streamSubmitInput"),o=MG_UtilsNew.closest(this,".streamSections");"Click to leave a comment"===t&&(this.value=""),MG_Utils.addClass(l,"showme"),MG_Utils.addClass(o,"showme"),MG_Utils.triggerEvent(this,"resize")})}}function openReply(){if(document.querySelectorAll(".reply a"))for(var t,l,o,i,a,r,e=document.querySelectorAll(".reply a"),s=0;s<e.length;s++)MG_Utils.addEventHandler(e[s],"click",function(e){e=e||window.event,t=MG_UtilsNew.closest(this,".feedItemSection"),l=t.querySelector(".postingForm"),o=t.querySelector(".formAvatar"),i=t.querySelector(".formText"),a=i.querySelector("textarea"),r=i.querySelector(".js_taggable"),MG_Utils.addClass(this,"hideme"),MG_Utils.addClass(l,"showme"),MG_Utils.addClass(o,"showme"),MG_Utils.addClass(i,"showme"),MG_Utils.setText(a,""),MG_Utils.triggerEvent(a,"click"),MG_Utils.setText(r,commentPlaceholder),MG_Utils.addClass(r,"placeHolderText")})}function addShareExternal(e,t,l){if(WIDGET_SHARE.shareButtonsLoaded)"function"==typeof e&&e();else{if(WIDGET_SHARE.shareButtonsLoaded=!0,void 0===t&&(t=WIDGET_SHARE.urlShare),void 0===l&&(l=WIDGET_SHARE.shareTitle),document.querySelectorAll("a.sharesTwitter")){var o=document.querySelectorAll("a.sharesTwitter")[0],i=o.getAttribute("href");o.setAttribute("href",updateQueryStringParameter(i,"text",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesReddit")){var a=document.querySelectorAll("a.sharesReddit")[0],r=a.getAttribute("href");a.setAttribute("href",updateQueryStringParameter(r,"title",encodeURIComponent(l)))}if(0<document.querySelectorAll("a.sharesTumblr").length){var s=document.querySelectorAll("a.sharesTumblr")[0],n=s.getAttribute("href");s.setAttribute("href",updateQueryStringParameter(n,"t",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesGooglePlusOne")){var c=document.querySelectorAll("a.sharesGooglePlusOne")[0],d=c.getAttribute("href");c.setAttribute("href",updateQueryStringParameter(d,"url",t))}if(document.querySelectorAll("a.sharesStubleUpon")){var u=document.querySelectorAll("a.sharesStubleUpon")[0],m=u.getAttribute("href");u.setAttribute("href",updateQueryStringParameter(m,"title",encodeURIComponent(l)))}if(document.querySelectorAll("a.sharesBlogger")){var f=document.querySelectorAll("a.sharesBlogger")[0],v=f.getAttribute("href");f.setAttribute("href",updateQueryStringParameter(v,"n",encodeURIComponent(l)))}}}var VideoPreview=function(){"use strict";var d,u=300;function m(e,t,l){return e.style.opacity=t,e.style.width=l,e}function a(e){var o;if(MG_Utils.hasClass(e.target,"js-videoPreview")&&!MG_Utils.hasClass(e.target,"activeVideo")&&(o=e.target),MG_Utils.hasClass(e.target,"premiumHolder")&&(o=MG_UtilsNew.closest(e.target,".img").querySelector(".js-videoPreview")),(MG_Utils.hasClass(e.target,"premiumLockedVideo")||MG_Utils.hasClass(e.target,"fade"))&&(o=e.target.querySelector(".js-videoPreview")),o){var i=o.parentNode,t=MG_UtilsNew.closest(o,".phimage"),l=t?t.querySelector(".preloadLine"):void 0,a=function(){var e,t=document.createElement("div"),l={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in l)if(void 0!==t.style[e])return l[e]}(),r=MG_Utils.hasClass(o,"js-menuSwap")?o.getAttribute("data-image"):o.getAttribute("data-mediumthumb"),s=t?t.querySelector(".privateOverlay"):void 0,n=i.querySelector(".watchedVideoText"),c=t?t.querySelector(".modelThumbnail"):void 0;l&&m(l,1,"100%"),function(t){if(t&&-1===t.className.indexOf("loaded")){var l=t.querySelector(".js-viewDetails"),o=t.querySelector(".modelThumbnailOverlay"),e=o.dataset.videoId,i=t.querySelector(".js-video-thumb-sold .amount"),a=t.querySelector(".js-video-thumb-earnings span"),r=t.querySelector(".spinner"),s=void 0!==s?s:"";MG_Utils.ajaxCall({url:MODEL_OVERLAY_THUMBNAIL.ajaxUrl,type:"POST",data:{video_id:e,token:s},dataType:"json",success:function(e){null!=e&&(t.className+=" loaded",i.innerHTML=e.sold,a.innerHTML=e.earned,l.href=e.url,MG_Utils.removeClass(o,"hidden"),r.className+=" hidden")}})}}(c),!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)||MG_Utils.hasClass(o,"activeVideo")||i.querySelector(".videoPreviewEl")||s||(d=setTimeout(function(){var e,t,l;MG_Utils.addClass(o,"activeVideo"),n&&MG_Utils.addClass(n,"hide"),i.appendChild((e=o.getAttribute("data-mediabook"),t=r,(l=document.createElement("video")).autoplay=!0,l.className="videoPreviewEl",l.loop="loop",l.muted="muted",l.src=e,l.poster=t,l))},u)),l&&a&&l.addEventListener(a,function(){l.style.opacity=0})}}function r(e){var t;if(MG_Utils.hasClass(e.target,"js-videoPreview")&&MG_Utils.hasClass(e.target,"activeVideo")&&(t=e.target),MG_Utils.hasClass(e.target,"premiumHolder")&&(t=closestElement(e.target,".img").querySelector(".js-videoPreview")),(MG_Utils.hasClass(e.target,"premiumLockedVideo")||MG_Utils.hasClass(e.target,"fade")&&e.target.querySelector(".js-videoPreview")&&!MG_Utils.hasClass(e.target.querySelector(".js-videoPreview"),"activeVideo"))&&(t=e.target.querySelector(".js-videoPreview")),MG_Utils.hasClass(e.target,"fade")&&e.target.querySelector(".js-videoPreview")&&MG_Utils.hasClass(e.target.querySelector(".js-videoPreview"),"activeVideo")&&e.relatedTarget&&"IMG"!==e.relatedTarget.nodeName&&(t=e.target.querySelector(".js-videoPreview")),t){var l=t.parentNode,o=l.querySelectorAll(".videoPreviewEl"),i=MG_UtilsNew.closest(t,".phimage"),a=i?i.querySelector(".preloadLine"):void 0,r=l.querySelector(".watchedVideoText");window.clearTimeout(d),a&&m(a,0,0),MG_Utils.removeClass(t,"activeVideo"),r&&MG_Utils.removeClass(r,"hide"),o.length&&[].forEach.call(o,function(e){e.parentNode.removeChild(e)})}}return{getTarget:function(){var e,t,l,o,i="undefined"!=typeof BrowserDetect&&"Safari"==BrowserDetect.browser;if(document.createElement("video").play&&(i||function(){var e=document.createElement("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t="maybe"==t.webm||"probably"==t.webm)}catch(e){console.log(e)}return t}()))return e=arguments[0],t=document.querySelectorAll("."+e),l=t.length,o=document.querySelector("body"),MG_Utils.addEventHandler(o,"mouseover",a),MG_Utils.addEventHandler(o,"mouseout",r),void(0<l&&MG_Utils.removeClassMultiple(t,"js-videoThumbFlip"));document.querySelector("body").addEventListener("mouseover",a)}}}();function removeProfileItem(e,t){var l={url:e,type:"POST"};MG_Utils.ajaxCall(l);var o=document.querySelectorAll("#"+t),i=MG_UtilsNew.closest(o[0],".videoSection"),a=0;o[0].parentNode.removeChild(o[0]),0==document.querySelectorAll("#"+t).length&&(a+=1);var r=i.querySelectorAll(".showingInfo .totalSpan"),s=i.querySelectorAll(".showingInfo .videoSpan");if(r||s){var n;if(2<=i.querySelectorAll(".showingInfo span").length)var c=parseInt(s[0].textContent,10);n=parseInt(r[0].textContent,10),vVideos=c,--vVideos,n-=a,r.length&&(r[0].innerHTML=n),s.length&&(s[0].innerHTML=vVideos)}}function removeItem(e,t,l,o){var i={url:e,data:{id:t},type:"POST"};MG_Utils.ajaxCall(i);var a=document.querySelectorAll("#"+l);a[0].parentNode.removeChild(a[0])}function removeItemSimple(e,t){var l={url:e,type:"POST"};MG_Utils.ajaxCall(l);var o=document.querySelectorAll("#"+t);o[0].parentNode.removeChild(o[0])}if(0!=document.querySelectorAll("#modelNotificationList").length){var modelNotificationList=document.querySelectorAll("#modelNotificationList");modelNotificationList=modelNotificationList[0].innerHTML}var myInt,cacheAjaxNotif=[],offset=[5,5,5],limit=5,scrollLimit=[0,0,0];function htmlspecialchars_decode(e){return"string"==typeof e&&(e=(e=(e=(e=(e=e.replace(/&amp;/g,"&")).replace(/&quot;/g,'"')).replace(/&#039;/g,"'")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")),e}function createMailAlert(e){if((e.lastMessageIdReceived||e.lastMessageSent)&&"0000-00-00 00:00:00"!=e.lastAction&&!e.profileSpammer){var t="";e.lastMessageIdReceived&&e.lastMessageIdSent>e.lastMessageIdReceived?(e.lastMessageSent=e.lastMessageSent,t=e.lastMessageSent):e.lastMessageIdReceived?(e.lastMessageReceived=e.lastMessageReceived,t=e.lastMessageReceived):e.lastMessageIdSent&&(e.lastMessageSent=e.lastMessageSent,t=e.lastMessageSent),t=(t=escapeHtml(unEscapeHtml(t))).replace(/{{phTransactionIcon}}/g,'<i class="transactionIcon"></i>');var l=document.querySelectorAll("ul#modelNotificationList > li.messageTemplate");l=l[0].cloneNode(!0),document.querySelectorAll("ul#modelNotificationList")[0].appendChild(l),MG_Utils.removeClass(l,"messageTemplate"),MG_Utils.addClass(l,e.status),MG_Utils.addClass(l,"newElement"),document.querySelectorAll(".newElement")[0].setAttribute("data-link",e.link),document.querySelectorAll(".newElement .js-messageLink")[0].setAttribute("data-link",e.link),document.querySelectorAll(".newElement img")[0].setAttribute("src",e.profileImage),document.querySelectorAll(".newElement .from")[0].innerHTML=e.profileUsername,document.querySelectorAll(".newElement .userProfileLink")[0].setAttribute("href",e.profileLink),document.querySelectorAll(".newElement .userProfileLink.from")[0].setAttribute("href",e.profileLink),document.querySelectorAll(".newElement .message")[0].innerHTML=t,document.querySelectorAll(".newElement .date")[0].innerHTML=e.lastActionNice,e.isFanClubChat&&(document.querySelectorAll(".newElement .js-iconPlaceHolder")[0].className+=" fanOnlyIcon"),e.hasTransaction&&(document.querySelectorAll(".newElement .js-transactionIconPlaceHolder")[0].className+=" transactionIcon"),document.querySelectorAll(".newElement")[0].style.display="block",MG_Utils.removeClass(l,"newElement")}}function createfriendRequestAlert(e,t,l,o,i,a,r,s){var n="manageRequest("+r+", 1, '"+l+"', '"+o+"')",c="manageRequest("+r+", 0, '"+l+"', '"+o+"')",d=s?"checked":"unchecked",u=document.querySelectorAll("ul#modelNotificationList > li.friendRequestTemplate");u=u[0].cloneNode(!0),document.querySelectorAll("ul#modelNotificationList")[0].appendChild(u),MG_Utils.removeClass(u,"friendRequestTemplate"),MG_Utils.addClass(u,"newElement"),u.setAttribute("id","request_"+r),document.querySelectorAll(".newElement img")[0].setAttribute("src",e),document.querySelectorAll(".newElement .profileLink")[0].setAttribute("href",o),document.querySelectorAll(".newElement .from .profileLink")[0].setAttribute("href",o),document.querySelectorAll(".newElement .from .profileLink")[0].innerHTML=l,"1"==t?initTooltip():document.querySelectorAll(".newElement .verifiedUser")[0].style.display="none",document.querySelectorAll(".newElement .message")[0].innerHTML=i,document.querySelectorAll(".newElement .date")[0].innerHTML=a,document.querySelectorAll(".newElement button.confirm")[0].setAttribute("onclick",n),document.querySelectorAll(".newElement button.reject")[0].setAttribute("onclick",c),document.querySelectorAll('.newElement .subscribeConfirm input[type="checkbox"]')[0].setAttribute("id","autoSubscribe_"+r),document.querySelectorAll('.newElement .subscribeConfirm input[type="checkbox"]')[0].setAttribute(d,d),document.querySelectorAll(".newElement .subscribeConfirm label")[0].setAttribute("for","autoSubscribe_"+r),s&&MG_Utils.addClass(document.querySelectorAll(".newElement .subscribeConfirm .fakeCheckBox ")[0],"checked"),document.querySelectorAll(".newElement button.btnFlag")[0].setAttribute("data-userid",r),document.querySelectorAll(".newElement")[0].style.display="block",MG_Utils.removeClass(u,"newElement")}function noAlert(e){document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",0),document.querySelectorAll("ul#modelNotificationList > li")[0].style.display="none",document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="block",document.querySelectorAll("ul#modelNotificationList > li.noNewItem > span")[0].innerHTML=e}function insertNotificationContent(){document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="block";for(var e=document.querySelectorAll("#notificationBox")[0].getAttribute("type"),t=document.querySelectorAll("ul#modelNotificationList > li,.handle3, .track3"),l=t.length-1;0<=l;l--)t[l].style.display="none";if("messageContent"==e){if(document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",messageViewAll),document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",messageViewAll),cacheAjaxNotif[0])document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[0],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[3]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none",o(document.querySelectorAll(".js-messageLink"));else MG_Utils.ajaxCall({type:"GET",data:{token:token},url:"/chat/threads?limit=5&reset=1",dataType:"json",success:function(e){if('"EXPIRED"'==e)document.location.reload();else{if(0==e.jsonNonBlockedThreadsCount)noAlert("messages");else{for(var t in e.jsonThreads)createMailAlert(e.jsonThreads[t]);document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",e.count),document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}cacheAjaxNotif[0]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[3]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none",o(document.querySelectorAll(".js-messageLink"))}}});function o(e){for(var t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"click",function(e){window.location.href=this.getAttribute("data-link")})}}else"requestContent"==e?(document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",requestViewAll),document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",requestViewAll),cacheAjaxNotif[1]?(document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[1],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[4]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"):MG_Utils.ajaxCall({url:"/user/ajaxGetFriendRequests",type:"GET",data:{limit:5,token:token},dataType:"json",success:function(e){if('"EXPIRED"'==e)document.location.reload();else{if(0==e.count)noAlert("friend requests");else{for(var t=0;t<e.datas.length;t++)createfriendRequestAlert(e.datas[t].avatar_url,e.datas[t].verified,e.datas[t].username,e.datas[t].user_link,e.datas[t].message,e.datas[t].request_date,e.datas[t].user_id,e.autoSubscribeFriendRequestsReceived);document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",e.count),document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}cacheAjaxNotif[1]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[4]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"}}})):"notifContent"==e&&(document.querySelectorAll("#notificationBox .footerBox a")[0].setAttribute("href",notifViewAll),document.querySelectorAll("#notificationBox .headerBox a.headerLink")[0].setAttribute("href",notifViewAll),cacheAjaxNotif[2]?(document.querySelectorAll("#modelNotificationList")[0].innerHTML=cacheAjaxNotif[2],document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",cacheAjaxNotif[5]),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"):MG_Utils.ajaxCall({url:"/stream/notifications_mini",type:"GET",data:{limit:15,token:token},dataType:"json",success:function(e){var t=e.html;if("REFRESH"==e)document.location.reload();else if(e){var l=JSON.parse(JSON.stringify(t).replace("#*","").replace("*#",""));document.querySelectorAll("#modelNotificationList")[0].innerHTML+=l,document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",e.count),leaveModal()}else noAlert("notifications");cacheAjaxNotif[2]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[5]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count"),document.querySelectorAll("#notificationBox #loadingDiv")[0].style.display="none"}}),leaveModal());MG_Scroll.init({selector:document.querySelectorAll("#scrollNotif"),height:"auto",color:"#F39000",size:"7px",alwaysVisible:!0,railVisible:!0,railOpacity:1,railColor:"#222",distance:-2,opacity:1,railClass:"track1",barClass:"handle1",wrapperClass:"wrapper1"}),initTooltip()}function leaveModal(){document.getElementById("fileupload")&&MG_Utils.hasClass(document.getElementById("fileupload"),"fileUploadPass")&&(LeavePageConfirmationModal.formChangedHandler(),LeavePageConfirmationPrompt.formChangedHandler())}function manageRequest(i,a,r,s){var n=document.querySelectorAll("#request_"+i)[0],c=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count");url=a?"/user/ajax_accept_friend_request":"/user/ajax_reject_friend_request",url=url+"?token="+token,(1==a&&$j("#autoSubscribeHeader").is(":checked")||1==a&&$j("#autoSubscribe_"+i).is(":checked"))&&(url+="&subscribe=1"),MG_Utils.ajaxCall({url:url,type:"POST",data:{id:i},success:function(e){if("OK"==e){if(document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",c-1),a)MG_Utils.addClass(n,"accepted"),document.querySelectorAll("#request_"+i+" .action button")[0].setAttribute("disabled","disabled"),document.querySelectorAll("#request_"+i+" .action")[0].parentNode.removeChild(document.querySelectorAll("#request_"+i+" .action")[0]),document.querySelectorAll("#request_"+i+" .contentContainer")[0].innerHTML='You and <a href="'+s+'" style="font-weight:bold;">'+r+"</a> are now friends.";else{document.querySelectorAll("#request_"+i)[0].parentNode.removeChild(document.querySelectorAll("#request_"+i)[0]);for(var t=document.querySelectorAll("#modelNotificationList li"),l=0,o=t.length-1;0<=o;o--)"block"==t[o].style.display&&l++;0==l&&0==document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")?noAlert("friend requests"):0==l&&fetchData()}setTimeout(function(){cacheAjaxNotif[1]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,cacheAjaxNotif[4]=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")},600)}}})}function reportSpam(e){var i=document.querySelectorAll("#request_"+e)[0],a=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count");MG_Utils.ajaxCall({url:"/user/ajax_friend_request_report?token="+token,type:"POST",data:{id:e,accept:-1},success:function(e){if("OK"==e){document.querySelectorAll("#tooltip")[0].style.display="none",document.querySelectorAll("#notificationBox")[0].setAttribute("data-count",a-1),i.parentNode.removeChild(i);for(var t=document.querySelectorAll("#modelNotificationList li"),l=0,o=t.length-1;0<=o;o--)"block"==t[o].style.display&&l++;0==l&&0==document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")?noAlert("friend requests"):0==l&&fetchData(),setTimeout(function(){cacheAjaxNotif[1]=document.getElementById("modelNotificationList").innerHTML,cacheAjaxNotif[4]=document.getElementById("notificationBox").getAttribute("data-count")},600)}}})}function fetchData(){var l=document.querySelectorAll("#notificationBox")[0].getAttribute("type");"requestContent"==l&&(urlToFetch="/user/ajaxGetFriendRequests",cachetoUse=1),scrollLimit[cachetoUse]||offset[cachetoUse]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||MG_Utils.ajaxCall({type:"GET",data:{offset:offset[cachetoUse],limit:5,token:token},url:urlToFetch,dataType:"json",success:function(e){for(var t=0;t<e.datas.length;t++)"requestContent"==l&&createfriendRequestAlert(e.datas[t].avatar_url,e.datas[t].verified,e.datas[t].username,e.datas[t].user_link,e.datas[t].message,e.datas[t].request_date,e.datas[t].user_id,e.autoSubscribeFriendRequestsReceived);offset[cachetoUse]=offset[cachetoUse]+5,(offset[cachetoUse]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||100<=offset[cachetoUse])&&(scrollLimit[cachetoUse]=1),setTimeout(function(){cacheAjaxNotif[cachetoUse]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,initTooltip()},600)}})}function fetchDataMessages(){scrollLimit[0]||MG_Utils.ajaxCall({url:"/chat/threads",type:"GET",data:{limit:5,offset:offset[0],token:token},dataType:"json",success:function(e){if('"EXPIRED"'==e)document.location.reload();else{if(0!=e.jsonThreadsCount){for(var t in offset[0]=offset[0]+5,e.jsonThreads)createMailAlert(e.jsonThreads[t]);document.querySelectorAll("ul#modelNotificationList > li.noNewItem")[0].style.display="none"}e.jsonNonBlockedThreadsCount<5&&(scrollLimit[0]=1),setTimeout(function(){cacheAjaxNotif[0]=document.querySelectorAll("#modelNotificationList")[0].innerHTML},600)}}})}function fetchDataNotification(){scrollLimit[2]||offset[2]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||MG_Utils.ajaxCall({url:"/stream/notifications_mini",type:"GET",data:{offset:offset[2],limit:15,token:token},dataType:"json",success:function(e){document.querySelectorAll("#modelNotificationList")[0].innerHTML+=e.html,offset[2]=offset[2]+5,(offset[2]>=document.querySelectorAll("#notificationBox")[0].getAttribute("data-count")||100<=offset[2])&&(scrollLimit[2]=1),setTimeout(function(){cacheAjaxNotif[2]=document.querySelectorAll("#modelNotificationList")[0].innerHTML,initTooltip()},600)}})}if("undefined"!=typeof isLogged&&isLogged)function formSubmit(){var e=document.querySelectorAll("#friendRequestForm")[0],n=document.querySelectorAll("#preventClick")[0],c=n.getAttribute("data-user-id"),t={url:e.getAttribute("action"),data:{cancelRequest:document.querySelectorAll("#cancelRequest")[0].getAttribute("value"),messageRequest:document.querySelectorAll("#messageRequest")[0].value,subscribe:document.querySelectorAll("#auto_subscribe")[0].checked?1:0},type:"POST",beforeSend:function(){for(var e=document.querySelectorAll(".friend_"+c+" button")[0],t=e.children,l=t.length-1;0<=l;l--)MG_Utils.addClass(t[l],"visuallyHidden");e.innerHTML+='<span class="spinner" />'},success:function(e){void 0!==friendRequestModal&&friendRequestModal.closeModal();var t=document.querySelectorAll(".friend_"+c+" button")[0],l=document.querySelectorAll(".friend_"+c+" button .spinner"),o=t.children;l[0].parentNode.removeChild(l[0]);for(var i=o.length-1;0<=i;i--)MG_Utils.removeClass(o[i],"visuallyHidden");if("SENT"==e.success){t.setAttribute("data-friends",1);var a=document.querySelectorAll(".friend_"+c)[0];if(MG_Utils.removeClass(a,"removeFriend"),MG_Utils.removeClass(a,"add"),MG_Utils.addClass(a,"sent"),e.subscribed){var r=document.querySelectorAll(".subscribe_"+c+" button")[0],s=document.querySelectorAll(".subscribe_"+c);r.setAttribute("data-subscribed",1),MG_Utils.removeClass(s[0],"subscribe"),MG_Utils.addClass(s[0],"unsubscribe"),document.querySelectorAll(".subscribe_"+c+" .buttonLabel")[0].innerHTML="Subscribed"}n&&1==n.getAttribute("data-refresh")&&location.reload(),document.querySelectorAll(".friend_"+c+" .buttonLabel")[0].innerHTML=e.text_initial}}};MG_Utils.ajaxCall(t)}function avatarPopupHandler(o,e){for(var t=document.querySelectorAll("."+o),i=MG_Utils.hasClass(document.querySelector("body"),"logged-out"),l=t.length-1;0<=l;l--)MG_Utils.addEventHandler(t[l],"mouseenter",function(e){var t=this,l=e.target||e.srcElement;for(mouseEnterAvatar(t,i,e);0==MG_Utils.hasClass(l,o);)l=l.parentNode;myInt=setInterval(function(){MG_Utils.hasClass(l,o)||(mouseLeaveAvatar(t,i,e),clearInterval(myInt))},3e3)}),MG_Utils.addEventHandler(t[l],"mouseleave",function(e){mouseLeaveAvatar(this,i,e),myInt&&clearInterval(myInt)})}var cache={},timeout={timer:null,el:null};function avatarLoad(){document.querySelectorAll(".avatarWrap")&&avatarPopupHandler("avatarWrap"),document.querySelectorAll(".usernameWrap")&&avatarPopupHandler("usernameWrap"),document.querySelectorAll(".userLink")&&avatarPopupHandler("userLink")}function mouseEnterAvatar(e,t,l){if(0==MG_Utils.getData(e,"disable-popover")){var a=l.target,o=a.querySelectorAll(".avatarPosition");if(MG_Utils.hasClass(a,"avatarTrigger")&&""==o[0].innerHTML||MG_Utils.hasClass(a,"usernameWrap")&&""==o[0].innerHTML||MG_Utils.hasClass(a,"userLink")){var i=MG_Utils.getData(e,"type"),r=MG_Utils.getData(a,i+"id");MG_Utils.addClass(a,"elementHovered"),timeout.timer&&clearTimeout(timeout.timer),timeout.el=e,timeout.timer=setTimeout(function(e){cache[r]?(a.querySelector(".avatarPosition").innerHTML=cache[r],MG_Utils.hasClass(a,"elementHovered")&&(a.querySelector(".avatarPopOver").style.display="block")):MG_Utils.ajaxCall({type:"POST",url:"/"+i+"/hover?id="+r,dataType:"html",context:this,success:function(e){var t,l=document.querySelectorAll(".avatarPopOver"),o=document.querySelector(".wrapper").offsetWidth;a.querySelector(".avatarPosition").innerHTML=e;for(var i=l.length-1;0<=i;i--)l[i].style.display="none";MG_Utils.hasClass(a,"elementHovered")&&(a.querySelector(".avatarPopOver").style.display="block",o<(t=document.querySelector(".avatarPopOver")).getBoundingClientRect().left+t.offsetWidth?MG_Utils.addClass(t,"popOverEdge"):MG_Utils.removeClass(t,"popOverEdge")),MG_Utils.hasClass(a,"elementHovered")&&(cache[r]=a.querySelector(".avatarPosition").innerHTML)}})},1e3)}}}function mouseLeaveAvatar(e,t,l){if(0==MG_Utils.getData(e,"disable-popover")){var o=l.target,i=MG_Utils.getData(e,"type"),a=MG_Utils.getData(o,i+"id");t&&e.querySelector(".avatarPosition").length&&(cache[a]=e.querySelector(".avatarPosition").innerHTML),e.querySelector(".avatarPopOver")&&(e.querySelector(".avatarPopOver").style.display="none"),timeout.timer&&clearTimeout(timeout.timer),MG_Utils.removeClass(e,"elementHovered")}}var fadeClickthroughEvent=function(){var e=document.querySelectorAll("#moreData, ul.videos-list, ul.videos, ul.popularSectionListPremium");[].forEach.call(e,function(e){e.addEventListener("mousedown",function(e){var t=e.target;if(MG_Utils.hasClass(t,"fadeImage")||MG_Utils.hasClass(t,"fade")){var l,o=t.querySelector("a.img"),i=t.querySelector("a.selectVideoThumb");if(i)l=i.getAttribute("href");else if(o)l=o.getAttribute("href");else{l=t.querySelector("a").getAttribute("href")}l&&(e.preventDefault(),1===e.which&&(window.location.href=l),2===e.which&&window.open(l,"_blank"))}})})},MG_UtilsNew={closest:function(e,t){var l;for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),l=t.length;0<=--l&&t.item(l)!==this;);return-1<l});null!==e;){if(null!==(l=e.parentElement)&&l instanceof Element&&l.matches(t))return l;e=l}return null}};MG_Utils.domReady(function(){if(!function(){var e=document.querySelector("#js-noticeWarningModal"),t=document.querySelector("#js-blackListModal");if(e&&t){var o=new MG_Modal({content:e,closeButton:!1,className:"noticeModal",closeDocument:!1}),i=new MG_Modal({content:t,closeButton:!1,className:"blackListModal",closeDocument:!1});document.addEventListener("click",function(e){var t=e.target;(MG_Utils.hasClass(t,"js-closeBlackList")||MG_Utils.hasClass(t,"js-closeNotice"))&&(MG_Utils.hasClass(t,"js-closeBlackList")&&i.closeModal(),MG_Utils.hasClass(t,"js-closeNotice")&&o.closeModal())}),document.addEventListener("click",function(e){var t=e.target;if(!MG_Utils.hasClass(t,"js-ckeckExternalSource")){if(null==t.parentNode)return;if(!MG_Utils.hasClass(t.parentNode,"js-ckeckExternalSource"))return}e.preventDefault();var l=t.getAttribute("href")||t.parentNode.getAttribute("href");MG_Utils.ajaxCall({type:"POST",url:modalTranslationText.blackWhiteListUrl,data:{url:l},dataType:"json",success:function(e){try{switch(e.status){case"blacklist":return i.openModal(function(e,t){t.querySelector(".js-blackListInput").value=l});case"whitelist":return window.location.href=l;default:return o.openModal(function(e,t){t.querySelector(".js-noticeDivInput").value=l,t.querySelector(".js-extrnalLink").href=l})}}catch(e){console.log(e)}}})}),document.querySelector(".js-extrnalLink")&&document.addEventListener("click",function(e){MG_Utils.hasClass(e.target,"js-extrnalLink")&&o.closeModal()})}}(),"undefined"!=typeof BrowserDetect){switch(BrowserDetect.browser){case"Opera":MG_Utils.addClass(document.documentElement,"opera");break;case"Safari":MG_Utils.addClass(document.documentElement,"safari");break;case"Firefox":MG_Utils.addClass(document.documentElement,"firefox");break;case"Chrome":MG_Utils.addClass(document.documentElement,"chrome");break;case"Explorer":MG_Utils.addClass(document.documentElement,"ie")}"Explorer"==BrowserDetect.browser&&10==BrowserDetect.version&&MG_Utils.addClass(document.documentElement,"ie10"),!navigator.userAgent.match(/Trident.*rv[ :]*11\./)||(MG_Utils.addClass(document.documentElement,"ie11"),MG_Utils.addClass(document.documentElement,"ie")),"Win32"==navigator.platform?MG_Utils.addClass(document.documentElement,"windows"):"MacIntel"==navigator.platform&&MG_Utils.addClass(document.documentElement,"osx"),BrowserDetect.init()}var e,t;"undefined"!=typeof searchTypes&&new autocompleteSearch({types:searchTypes,placeholderData:page_params.placeholderData}),"undefined"!=typeof dropdown&&(dropdown.init(".mainFilter, .sortFilter"),dropdown.init("#languageWrapper"),dropdown.init(".languageWrapper"),dropdown.init("#notificationIcons",{closeCallback:function(){var e=document.querySelector('.notificationIcon[data-type="'+document.getElementById("notificationBox").getAttribute("type")+'"] > span');e&&(e.style.display="none")}}),"undefined"!=typeof isLogged&&isLogged&&dropdown.init("#profileMenuWrapper")),renderCommentLinks(),function(){for(var e=document.querySelectorAll("textarea[data-val]"),t=0;t<e.length;t++)element=e[t],""==element.value&&(element.value=element.getAttribute("data-val"))}(),function(){for(var e=document.querySelectorAll("ul"),t=0;t<e.length;++t){var l=MG_Utils.firstChild(e[t]),o=MG_Utils.lastChild(e[t]);l&&MG_Utils.addClass(l,"alpha"),o&&(MG_Utils.hasClass(o,"sectionMoreBtn")?MG_Utils.addClass(o.previousElementSibling||MG_Utils.previousElementSibling(o),"omega"):MG_Utils.addClass(o,"omega"))}}(),function(){for(var e=document.querySelectorAll(".container a.img, .container img"),t=0;t<e.length;++t)MG_Utils.hasClass(e[t],"catIcon")||(e[t].setAttribute("data-title",e[t].title),e[t].setAttribute("title",""))}(),initTooltip(),function(){for(var e,t,l,o=document.querySelectorAll(".wideDropdown"),i=0;i<o.length;++i)if(t=o[i],e=document.querySelector(".menu."+t.getAttribute("data-submenu-type")),l=document.querySelectorAll(".wideDropdown."+t.getAttribute("data-submenu-type")),e)for(var a=0;a<l.length;a++)e.appendChild(l[a])}(),function(){var t=document.getElementById("countryRedirectMessage");if(t&&!PH_Storage.getItem("hideLangRedirect")){t.style.display="block";for(var e=t.querySelectorAll("i"),l=0;l<e.length;l++)MG_Utils.addEventHandler(e[l],"click",function(e){e=e||window.event,MG_Utils.stopPropagation(e),t.style.display="none",PH_Storage.saveWithExpiry("hideLangRedirect",!0)})}}(),function(){for(var e=document.querySelectorAll(".shareIcons a"),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"click",function(e){var t,l,o=(e=e||window.event).target||e.srcElement;if(MG_Utils.preventDefault(e),"a"!==o.nodeName.toLowerCase())for(;(o=o.parentElement)&&"a"!==o.nodeName.toLowerCase(););t=Math.floor(((screen.availWidth||1024)-640)/2),l=Math.floor(((screen.availHeight||700)-320)/2),window.open(o.href,"social","width=640,height=320,left="+t+",top="+l+",location=0,menubar=0,toolbar=0,status=0,scrollbars=1,resizable=1")})}(),VideoPreview.getTarget("js-videoPreview"),e=function(){"use strict";function l(e){var t=MG_UtilsNew.closest(this,a.parent);if(!this.hasAttribute("data-mxptext")||!t||!t.hasAttribute("data-mxp"))return!1;var l="None",o=t.getAttribute("data-mxp"),i={};this.hasAttribute("data-mxptype")&&(l=this.getAttribute("data-mxptype")),a.debug&&MG_Utils.preventDefault(e),i[l+"Name"]=this.getAttribute("data-mxptext"),i.PageFrom=o,mixpanel.track("View "+l,i)}var a={debug:!1,link:".js-mxp",parent:".js-mxpParent",meta:'head [name="mxp-page"]'},t=function(){var e=document.querySelector(a.meta);e&&mixpanel.track("Viewed Page",{"Page Name":e.getAttribute("content")})},o=function(){for(var e=document.querySelectorAll(a.link),t=0;t<e.length;t++)MG_Utils.addEventHandler(e[t],"click",l)};return{init:function(e){if(!premiumFlag)return!1;e=e||{},(a=MG_Utils.extendSimple(a,e)).debug&&console.log("MixPanel debug mode"),t(),o()},trackClick:o}}(),"undefined"!=typeof premiumFlag&&"1"==premiumFlag&&e.init(),(t=document.querySelectorAll("#scrollNotif")[0])&&MG_Utils.addEventHandler(t,"scroll",function(e){var t=document.querySelectorAll("#scrollNotif");if(t[0].scrollTop+t[0].clientHeight>=t[0].scrollHeight){var l=document.querySelectorAll("#notificationBox")[0].getAttribute("type");"notifContent"==l?fetchDataNotification():"messageContent"==l?setTimeout(function(){fetchDataMessages()},600):fetchData()}}),MG_Utils.limit=function(e,l){l=MG_Utils.extendSimple({limit:200},l);for(var t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"keyup",function(e){var t=(e=e||event).target||e.srcElement;t.value.length>l.limit&&(t.value=t.value.substring(0,l.limit))})};var r,l,s,o,i,a,n=function(){"use strict";var e;function t(){var l={},o="extended",i=65,a="";function r(e,t){e&&MG_Utils.toggleClass(e,t)}this.init=function(e,t){l=t,function(){var e={showMoreLink:this.querySelector(".js-showMoreLess"),bioText:this.querySelector(".js-bioText"),profileDetails:this.querySelector(".js-infoText")};a=setInterval(function(){(function(){if(this.showMoreLink&&(this.bioText&&0<this.bioText.scrollHeight||this.profileDetails&&0<this.profileDetails.scrollHeight)){var e=this.bioText?this.bioText.scrollHeight:0,t=(this.profileDetails?this.profileDetails.scrollHeight:0)<=i;e<=i&&t?MG_Utils.addClass(this.showMoreLink,"displayNone"):this.showMoreLink.addEventListener("click",function(e){e.preventDefault(),r(this.showMoreLink,o),r(this.bioText,o),r(this.profileDetails,o),this.showMoreLink.innerHTML=MG_Utils.hasClass(this.showMoreLink,o)?l.showLess:l.showMore}.bind(this)),clearInterval(a)}}).call(e)},100)}.call(e)}}return{getInstance:function(){return null==e&&((e=new t).constructor=null),e}}}();try{var c=document.querySelectorAll(".topProfileHeader")?document.querySelectorAll(".topProfileHeader")[0]:null,d="undefined"!=typeof PROFILE_MORE_LESS_TEXT?PROFILE_MORE_LESS_TEXT:null;if(c&&d)n.getInstance().init(c,d)}catch(e){console.log("ERROR === SHOW MORE LESS CLASS ==="),console.log(e)}function u(e){e.length&&[].forEach.call(e,function(e){var t=document.querySelector(".add-to-playlist-menu");MG_Utils.hasClass(t,"display-none")&&MG_Utils.removeClass(e,"active")})}function m(e){var t,l=document.querySelector(".add-to-playlist-menu");if(e)t=e.querySelector(".playlist-trigger");else{var o=document.querySelector(".zoom.active");o&&(t=o.querySelector(".playlist-trigger"))}if(t)for(;"block"===l.style.display;)t.click()}function f(e){return!!e&&(!MG_Utils.hasClass(e,"playlist-trigger")&&!(MG_Utils.hasClass(e,"playlist-menu-addTo")||MG_Utils.hasClass(e,"playlist-list")||MG_Utils.hasClass(e,"playlist-menu-createNew")))}!function(){if(document.querySelectorAll(".createPlaylistModalTrigger"))for(var e=document.querySelectorAll(".createPlaylistModalTrigger"),t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"click",function(e){(e=e||event).preventDefault(),void 0!==createPlaylistModal&&createPlaylistModal.openModal(function(){dropdown.init("#playlist-form .privacySelector"),MG_Utils.limit(document.querySelectorAll("#new-playlist-description"),{limit:1e3})})})}(),function(){if(document.querySelectorAll(".blockPageScroll"))for(var e=document.querySelectorAll(".blockPageScroll"),t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"mousewheel",function(e){(e=e||event).preventDefault()}),MG_Utils.addEventHandler(e[t],"DOMMouseScroll",function(e){(e=e||event).preventDefault()})}(),function(){if(document.querySelectorAll(".expandable-title")){for(var e=document.querySelectorAll(".expandable-title"),t=e.length-1;0<=t;t--)MG_Utils.addEventHandler(e[t],"click",function(){if(MG_Utils.hasClass(this.parentNode,"active")){var e=this.parentNode;e.querySelector(".expandable-content").style.display="none",MG_Utils.removeClass(e,"active")}else{for(var t=this.parentNode,l=document.querySelectorAll(".expandable-section.active"),o=l.length-1;0<=o;o--)MG_Utils.removeClass(l[o],"active"),l[o].querySelector(".expandable-content").style.display="none";t.querySelector(".expandable-content").style.display="block",MG_Utils.addClass(t,"active")}});var l=document.querySelectorAll(".expandable-title .expand-button");for(t=l.length-1;0<=t;t--)MG_Utils.addEventHandler(l[t],"click",function(e){(e=e||event).preventDefault()})}}(),(l=document.body).addEventListener("mouseover",function(e){var t=e.target;e.relatedTarget;if(window.clearTimeout(r),MG_Utils.hasClass(t,"fadeUp")&&!MG_Utils.hasClass(t.parentNode,"js-noFade")){var l=t.querySelector(".thumb"),o=t.querySelector(".privateOverlay");if(MG_Utils.hasClass(t,"fade"))var i=t.querySelector(".watchedVideoText");else i=MG_Utils.closest(t,".fade").querySelector(".watchedVideoText");o||(!MG_Utils.hasClass(l,"js-videoPreview")||MG_Utils.hasClass(l,"js-videoThumbFlip")||MG_Utils.hasClass(l,"activeVideo")||(r=setTimeout(function(){MG_Utils.removeClass(t,"fadeUp")},300)),MG_Utils.hasClass(l,"js-videoThumbFlip")&&!l.getAttribute("data-flipbook_active")&&(MG_Utils.hasClass(l,"js-videoPreview")||(r=setTimeout(function(){MG_Utils.removeClass(t,"fadeUp"),i&&!MG_Utils.hasClass(i,"hide")&&MG_Utils.addClass(i,"hide")},100)),MG_Utils.hasClass(l,"js-videoPreview")&&(r=setTimeout(function(){MG_Utils.removeClass(t,"fadeUp"),i&&!MG_Utils.hasClass(i,"hide")&&MG_Utils.addClass(i,"hide")},100))))}var a=!!document.documentMode;MG_Utils.hasClass(t,"js-videoThumbFlip")&&a&&(i=MG_UtilsNew.closest(t,".fade").querySelector(".watchedVideoText"))&&!MG_Utils.hasClass(i,"hide")&&MG_Utils.addClass(i,"hide")}),l.addEventListener("mouseout",function(e){var t=e.target,l=e.relatedTarget;if(window.clearTimeout(r),MG_UtilsNew.closest(t,".fade")){if(!MG_Utils.hasClass(MG_UtilsNew.closest(t,".fade"),"fadeUp")){var o=MG_UtilsNew.closest(t,".fade").querySelector(".watchedVideoText");MG_Utils.hasClass(t,"js-videoThumbFlip")&&MG_Utils.hasClass(t,"js-videoPreview")&&(MG_Utils.addClass(MG_UtilsNew.closest(t,".fade"),"fadeUp"),o&&MG_Utils.hasClass(o,"hide")&&MG_Utils.removeClass(o,"hide")),MG_Utils.hasClass(t,"js-videoPreview")&&!MG_Utils.hasClass(t,"js-videoThumbFlip")&&MG_Utils.addClass(MG_UtilsNew.closest(t,".fade"),"fadeUp")}var i=!!document.documentMode;if(MG_Utils.hasClass(t,"js-videoThumbFlip")&&i)(o=MG_UtilsNew.closest(t,".fade").querySelector(".watchedVideoText"))&&MG_Utils.hasClass(o,"hide")&&MG_Utils.removeClass(o,"hide")}if(MG_Utils.hasClass(t,"fade")&&!MG_Utils.hasClass(t,"fadeUp")){var a=t.querySelector(".thumb");if(MG_Utils.hasClass(t,"fade"))o=t.querySelector(".watchedVideoText");MG_Utils.hasClass(a,"js-videoThumbFlip")&&MG_Utils.hasClass(a,"js-videoPreview")&&l&&!MG_Utils.hasClass(l,"thumb")&&(MG_Utils.addClass(t,"fadeUp"),o&&MG_Utils.hasClass(o,"hide")&&MG_Utils.removeClass(o,"hide")),MG_Utils.hasClass(a,"js-videoThumbFlip")&&!MG_Utils.hasClass(a,"js-videoPreview")&&l&&!MG_Utils.hasClass(l,"thumb")&&(MG_Utils.addClass(t,"fadeUp"),o&&MG_Utils.hasClass(o,"hide")&&MG_Utils.removeClass(o,"hide")),!MG_Utils.hasClass(a,"js-videoPreview")||MG_Utils.hasClass(a,"js-videoThumbFlip")||MG_Utils.hasClass(a,"activeVideo")||MG_Utils.addClass(t,"fadeUp")}}),(o=document.body).addEventListener("mouseover",function(e){var t=e.target;if(window.clearTimeout(s),MG_UtilsNew.closest(t,".zoom")&&!MG_Utils.hasClass(MG_UtilsNew.closest(t,".zoom"),"active")){if(MG_Utils.hasClass(t,"img")&&MG_Utils.hasClass(t.querySelector(".thumb"),"js-videoThumbFlip")||MG_Utils.hasClass(t,"js-videoThumbFlip")){var l=MG_UtilsNew.closest(t,".zoom"),o=document.querySelectorAll(".zoom.active");"block"===document.querySelector(".add-to-playlist-menu").style.display&&m(),u(o),s=setTimeout(function(){MG_Utils.addClass(l,"active")},100)}if(MG_Utils.hasClass(t,"img")&&t.querySelector(".js-videoPreview")&&!MG_Utils.hasClass(t.querySelector(".js-videoPreview"),"activeVideo")&&!t.querySelector(".js-videoThumbFlip")||MG_Utils.hasClass(t,"js-videoPreview")&&!MG_Utils.hasClass(t,"activeVideo")&&!MG_Utils.hasClass(t,"js-videoThumbFlip")){l=MG_UtilsNew.closest(t,".zoom"),o=document.querySelectorAll(".zoom.active");"block"===document.querySelector(".add-to-playlist-menu").style.display&&m(),u(o),s=setTimeout(function(){MG_Utils.addClass(l,"active")},100)}}}),o.addEventListener("mouseout",function(e){var t=e.target,l=e.relatedTarget,o=this.querySelector(".add-to-playlist-menu");if(MG_UtilsNew.closest(t,".zoom")){var i=MG_UtilsNew.closest(t,".zoom");if(window.clearTimeout(s),(MG_Utils.hasClass(t,"img")||MG_Utils.hasClass(t,"thumb"))&&MG_Utils.hasClass(o,"display-none")&&l&&(MG_Utils.hasClass(l,"playlist-trigger")||MG_Utils.hasClass(l,"not-interested-trigger")||MG_UtilsNew.closest(l,".playlist-menu-addTo")||MG_UtilsNew.closest(l,".playlist-list")||MG_UtilsNew.closest(l,".playlist-menu-createNew")||MG_UtilsNew.closest(l,".marker-overlays")))return;if(MG_Utils.hasClass(i,"active")&&MG_Utils.hasClass(t,"js-videoPreview")&&MG_Utils.hasClass(t,"js-videoThumbFlip")||t.querySelector(".js-videoPreview")&&t.querySelector(".js-videoThumbFlip")&&!MG_Utils.hasClass(l,"thumb")&&f(l)){var a=document.querySelectorAll(".zoom.active");"block"===o.style.display&&m(i),u(a)}if(MG_Utils.hasClass(i,"active")&&MG_Utils.hasClass(t,"js-videoThumbFlip")||MG_Utils.hasClass(t,"img")&&t.querySelector(".js-videoThumbFlip")&&l&&f(l)&&!MG_Utils.hasClass(l,"thumb")){a=document.querySelectorAll(".zoom.active");"block"===o.style.display&&m(i),u(a)}if(MG_Utils.hasClass(i,"active")&&MG_Utils.hasClass(t,"js-videoPreview")&&!MG_Utils.hasClass(t,"activeVideo")&&!MG_Utils.hasClass(t,"js-videoThumbFlip")||MG_Utils.hasClass(t,"img")&&t.querySelector(".js-videoPreview")&&!t.querySelector(".js-videoThumbFlip")&&!MG_Utils.hasClass(t.querySelector(".js-videoPreview"),"activeVideo")&&f(l)){a=document.querySelectorAll(".zoom.active");"block"===o.style.display&&m(i),u(a)}}if((MG_UtilsNew.closest(t,".marker-overlays")||MG_UtilsNew.closest(t,".add-to-playlist-icon"))&&MG_UtilsNew.closest(t,".zoom")&&MG_Utils.hasClass(MG_UtilsNew.closest(t,".zoom"),"active")&&l&&!MG_UtilsNew.closest(l,".marker-overlays")&&!MG_UtilsNew.closest(l,".phimage")&&!MG_UtilsNew.closest(l,".add-to-playlist-menu")){a=document.querySelectorAll(".zoom.active"),i=MG_UtilsNew.closest(t,".zoom");window.clearTimeout(s),"block"===o.style.display&&m(i),u(a)}if(t&&l&&(MG_UtilsNew.closest(t,".playlist-menu-addTo")||MG_UtilsNew.closest(t,".playlist-list")||MG_UtilsNew.closest(t,".playlist-menu-createNew"))&&!MG_Utils.hasClass(l,"playlist-trigger")&&!MG_Utils.hasClass(l,"img")&&!MG_UtilsNew.closest(l,".add-to-playlist-menu")){a=document.querySelectorAll(".zoom.active");window.clearTimeout(s),"block"===o.style.display&&m(),u(a)}}),i=document.querySelector("#searchInput"),a=document.querySelector("#searchBarContainer"),null!==i&&(MG_Utils.addEventHandler(i,"focus",function(){MG_Utils.addClass(a,"active")}),MG_Utils.addEventHandler(i,"blur",function(){MG_Utils.removeClass(a,"active")})),fadeClickthroughEvent()});var LoverManageModal=function(){var n=this,c={};function s(e,t){var l=e.querySelector(".loverEmail");l&&t.payload&&t.payload.loverEmail&&(l.innerHTML=t.payload.loverEmail)}function l(e,t){var l=t.querySelector(".submitBtn"),o=t.querySelector(".customInput");l&&n.type===n.action.POPUPINFO?l.addEventListener("click",function(e){n.modal.closeModal()}):l&&o&&(l.addEventListener("click",function(e){if(e.preventDefault(),!new RegExp("(\\s|^)hideElement(\\s|$)").test(this.className)&&function(e){return!e||!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)}(this.value.trim()))return void i(this,"emailInvlidError");if(n.type===n.action.CHANGELOVER&&this.value===n.secondaryLoverEmail)return void i(this,"emailRepeatError");MG_Utils.ajaxCall({url:n.settings.apiUrl,data:{loverEmail:this.value.trim()},type:"POST",success:function(e){var t,l,o,i,a,r;e&&"success"==e.success?c[n.type+"Success"]?(t=n.type,l=e,o=document.querySelector(".loverContent .loverChangeButtons"),i=document.querySelector(".loverContent .addLoverButtonWrap"),a=document.querySelector(".loverContent .loverEmail"),r=document.querySelector(".loverContent .loverStatus"),i&&o&&a&&r&&(t===n.action.REMOVELOVER?(MG_Utils.addClass(o,"display-none"),MG_Utils.removeClass(i,"display-none"),MG_Utils.addClass(a,"display-none"),MG_Utils.removeClass(r,"pending")):(MG_Utils.addClass(i,"display-none"),MG_Utils.removeClass(o,"display-none"),MG_Utils.removeClass(a,"display-none"),MG_Utils.addClass(r,"pending"),l&&l.payload&&l.payload.loverEmail&&(n.secondaryLoverEmail=l.payload.loverEmail,a.innerText=l.payload.loverEmail))),n._layoutModal("Success",s,e)):n.type===n.action.CHANGETYPE&&e.payload&&e.payload.downgrade_url&&(window.location.href=e.payload.downgrade_url):d(e.messages)}})}.bind(o)),o.addEventListener("focus",function(){MG_Utils.removeClass(this,"error"),this.value="",d()}.bind(o)))}function i(e,t){MG_Utils.addClass(e,"error"),e.value=n._errors[t]}function d(e){var t=document.querySelector(".referLoveModal .requestErrors");t&&(e?(t.innerHTML=e,MG_Utils.addClass(t,"error")):(t.innerHTML="",MG_Utils.removeClass(t,"error")))}n.type=null,n.modal=null,n.settings={},n.action={INVITELOVER:"inviteLover",ADDLOVER:"addLover",CHANGELOVER:"changeLover",REMOVELOVER:"removeLover",CHANGETYPE:"changeType",POPUPINFO:"popupInfo"},n.init=function(e,t){n._modalWrapper=e,n._recommendationListUrl=t.recommendationListUrl,n.secondaryLoverEmail=t.secondaryLoverEmail,n._errors={emailInvlidError:t.emailInvlidError,emailRepeatError:t.emailRepeatError},c={inviteLover:{apiUrl:t.addLoveRequestUrl,title:t.inviteLoverTitle,button:t.inviteLoverSubmit,content:t.inviteLoverContent,input:!0},inviteLoverSuccess:{title:t.inviteSuccessTitle,content:t.inviteSuccessContent},addLover:{apiUrl:t.addLoveRequestUrl,title:t.addLoverTitle,button:t.addLoverSubmit,input:!0},addLoverSuccess:{title:t.inviteSuccessTitle,content:t.inviteSuccessContent},changeLover:{apiUrl:t.changeLoveRequestUrl,title:t.changeLoverTitle,button:t.changeLoverSubmit,input:!0},changeLoverSuccess:{title:t.inviteSuccessTitle,content:t.inviteSuccessContent},removeLover:{apiUrl:t.removeLoveRequestUrl,title:t.removeLoverTitle,button:t.removeLoverSubmit,process:l,input:!1},removeLoverSuccess:{title:t.removeSuccessTitle,content:t.removeSuccessContent,button:t.addLoverSubmit},changeType:{apiUrl:t.changeTypeRequestUrl,title:t.changeTypeTitle,button:t.changeTypeSubmit,content:t.changeTypeContent,input:!1},popupInfo:{button:"Close"}},n._registerActions()},n.setupModal=function(e){return n.type=e,n.modal&&n.modal.closeModal&&n.modal.closeModal(),n.settings=c[e],n.modal=new MG_Modal({content:n._modalWrapper,className:"referLoveModal"}),n},n.show=function(e){var t=e||l;n.modal.openModal(t),n._layoutModal()},n._layoutModal=function(e,t,l){var o,i=n.modal.modal;if(e&&"Success"===e?(n.type+=e,n.settings=c[n.type],o=i.querySelector(".successContentWrapper"),MG_Utils.removeClass(o,"display-none"),MG_Utils.addClass(i.querySelector(".requestContentWrapper"),"display-none")):(o=i.querySelector(".requestContentWrapper"),MG_Utils.removeClass(o,"display-none"),MG_Utils.addClass(i.querySelector(".successContentWrapper"),"display-none"),MG_Utils.addClass(i,n.type)),o.querySelector(".modalTitle").innerHTML=n.settings.title,void 0!==n.settings.content){var a=o.querySelector(".modalContent");MG_Utils.removeClass(a,"hideElement"),a.innerHTML=n.settings.content}if(void 0!==n.settings.button){var r=o.querySelector("button");MG_Utils.removeClass(r,"hideElement"),r.innerHTML=n.settings.button}if(void 0!==n.settings.input&&n.settings.input){var s=o.querySelector("#loverSubmitForm input");s&&MG_Utils.removeClass(s,"hideElement")}t&&l&&t(i,l)},n._registerActions=function(){var e=document.getElementById("js_addLoverBtn"),t=document.getElementById("js_changeLoverBtn"),l=document.getElementById("js_removeLoverBtn"),o=document.getElementById("js_changeTypeBtn"),i=document.getElementById("js_recommendationList");e&&e.addEventListener("click",function(e){n.setupModal(n.action.ADDLOVER).show()}),t&&t.addEventListener("click",function(e){n.setupModal(n.action.CHANGELOVER).show()}),l&&l.addEventListener("click",function(e){n.setupModal(n.action.REMOVELOVER).show()}),o&&o.addEventListener("click",function(e){n.setupModal(n.action.CHANGETYPE).show()}),i&&i.addEventListener("change",function(e){var t=this.checked?1:0;MG_Utils.ajaxCall({url:n._recommendationListUrl,data:{share_recommendation:t},type:"POST",success:function(e){}})})}};try{var loverModal=document.querySelector("#postSignupModals #referLoveModal"),postSignupPageParams="undefined"!=typeof POST_SIGNUP_DATA?POST_SIGNUP_DATA:null;if(loverModal&&postSignupPageParams){var loverManageModal=new LoverManageModal;loverManageModal.init(loverModal,postSignupPageParams),""===postSignupPageParams.secondaryLoverEmail&&postSignupPageParams.showLoverEmailRequestModal&&loverManageModal.setupModal(loverManageModal.action.INVITELOVER).show()}}catch(e){console.log("ERROR === MODALS NOT LOADED CORRECTLY ==="),console.log(e)}